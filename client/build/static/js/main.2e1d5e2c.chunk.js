(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{172:function(e){e.exports=JSON.parse('{"\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u0444\u0443\u0442\u0431\u043e\u043b\u043a\u0443":"\u0429\u043e\u0431 \u043f\u0440\u0438\u0454\u0434\u043d\u0430\u0454\u0442\u044c\u0441\u044f \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u043d\u0430 \u0444\u0443\u0442\u0431\u043e\u043b\u043a\u0443","\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f, \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0442\u0435\u0441\u044c \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u0444\u0443\u0442\u0431\u043e\u043b\u043a\u0443":"\u0429\u043e\u0431 \u043f\u0440\u0438\u0454\u0434\u043d\u0430\u0454\u0442\u044c\u0441\u044f, \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0442\u0435\u0441\u044c i \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u043d\u0430 \u0444\u0443\u0442\u0431\u043e\u043b\u043a\u0443","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u0433\u0440\u0443":"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0433\u0440\u0443","\u0413\u043e\u0440\u043e\u0434":"\u041c\u0456\u0441\u0442\u043e","\u0410\u0434\u0440\u0435\u0441":"\u0410\u0434\u0440\u0435\u0441\u0430","\u0430\u0434\u0440\u0435\u0441":"\u0430\u0434\u0440\u0435\u0441\u0430","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432":"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0433\u0440\u0430\u0432\u0446\u0456\u0432","\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e":"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e","\u0421\u043e\u0437\u0434\u0430\u0442\u044c":"C\u0442\u0432\u043e\u0440\u0438\u0442\u0438","\u0417\u0430\u0431\u044b\u043b\u0438":"\u0417\u0430\u0431\u0443\u043b\u0438","\u0412\u043e\u0439\u0442\u0438":"\u0423\u0432\u0456\u0439\u0442\u0438","\u0413\u043b\u0430\u0432\u043d\u0430\u044f":"\u0413\u043e\u043b\u043e\u0432\u043d\u0430","\u041e \u0441\u0435\u0440\u0432\u0438\u0441\u0435":"\u041f\u0440\u043e \u0441\u0435\u0440\u0432\u0456\u0441","\u0412\u0440\u0435\u043c\u044f":"\u0427\u0430\u0441","\u0441":"\u0437","\u0411\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u0441\u044f \u0432 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435":"\u0411\u0443\u0434\u0435 \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u0438\u0441\u044f \u0432 \u0456\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0456","\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c":"\u041f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c","\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442":"\u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u044e\u0442\u044c","\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c":"\u041d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u043c","\u041d\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 \u0435\u043c\u0435\u0439\u043b":"\u041d\u0435 \u0432\u0430\u043b\u0456\u0434\u043d\u044b\u0439 \u0435\u043c\u0435\u0439\u043b","\u0422\u0430\u043a\u043e\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442":"\u0422\u0430\u043a\u0438\u0439 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454","\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0442\u0441\u044f":"\u0417\u0430\u0440\u0435\u0435\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044c","\u0418\u0433\u0440\u043e\u043a\u043e\u0432":"\u0413\u0440\u0430\u0432\u0446\u0456\u0432","\u0417\u0430\u043b\u043e\u0433\u0438\u043d\u0442\u0435\u0441\u044c, \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043b\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0432 \u0447\u0430\u0442":"\u0417\u0430\u043b\u043e\u0433\u0438\u043d\u0442\u0435\u0441\u044c, \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0449\u043e\u0431 \u043f\u043e\u0441\u043b\u0430\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0432 \u0447\u0430\u0442","\u041f\u043e\u0441\u043b\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435":"\u041f\u043e\u0441\u043b\u0430\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f","\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0456\u044f","\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u0433\u0440\u0443":"\u0423\u0432\u0456\u0439\u0434\u0456\u0442\u044c \u0449\u043e\u0431 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0433\u0440\u0443","\u0415\u0441\u043b\u0438 \u0442\u044b \u043d\u0435 \u0437\u043d\u0430\u0435\u0448\u044c, \u0433\u0434\u0435 \u043d\u0430\u0439\u0442\u0438 \u043b\u044e\u0434\u0435\u0439 \u0434\u043b\u044f \u0438\u0433\u0440\u044b \u0432 \u0444\u0443\u0442\u0431\u043e\u043b - \u044d\u0442\u043e \u0441\u0430\u0439\u0442 \u043a\u0430\u043a \u0440\u0430\u0437 \u0434\u043b\u044f \u0442\u0435\u0431\u044f! \u0422\u0443\u0442 \u0442\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0434\u043b\u044f \u0438\u0433\u0440\u044b \u0432 \u0444\u0443\u0442\u0431\u043e\u043b. \u0422\u0443\u0442 \u0442\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u0433\u0440\u0443 \u043b\u0438\u0431\u043e \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f \u043a \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0439.":"\u042f\u043a\u0449\u043e \u0442\u0438 \u043d\u0435 \u0437\u043d\u0430\u0454\u0448, \u0434\u0435 \u0437\u043d\u0430\u0439\u0442\u0438 \u043b\u044e\u0434\u0435\u0439 \u0434\u043b\u044f \u0433\u0440\u0438 \u0432 \u0444\u0443\u0442\u0431\u043e\u043b - \u0446\u0435 \u0441\u0430\u0439\u0442 \u044f\u043a \u0440\u0430\u0437 \u0434\u043b\u044f \u0442\u0435\u0431\u0435! \u0422\u0443\u0442 \u0442\u0438 \u043c\u043e\u0436\u0435\u0448 \u0437\u0456\u0431\u0440\u0430\u0442\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0434\u043b\u044f \u0433\u0440\u0438 \u0432 \u0444\u0443\u0442\u0431\u043e\u043b. \u0422\u0443\u0442 \u0442\u0438 \u043c\u043e\u0436\u0435\u0448 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0433\u0440\u0443 \u0430\u0431\u043e \u043f\u0440\u0438\u0454\u0434\u043d\u0430\u0454\u0442\u044c\u0441\u044f \u0434\u043e \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u044e\u0447\u043e\u0457."}')},185:function(e,t,a){e.exports=a(347)},194:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},294:function(e,t,a){},295:function(e,t,a){},296:function(e,t,a){},297:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},310:function(e,t,a){},311:function(e,t,a){},312:function(e,t,a){},313:function(e,t,a){},343:function(e,t){},347:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(21),c=a(398),s=a(15),i=a(6),l=a(5),o=a(9),u=a(10),m=a(11),d=(a(194),a(379)),p=a(18),h=a(13),f=a.n(h),g=a(19),v="_SUCCESS",b=a(102),E=a.n(b),y=a(49),O=a(164),j=a(41),w=a.n(j);var k={user:null,isAuthenticated:!j.isEmpty(null)};function C(e){return j.pick(e,["name"])}var N=a(30),S=new N.c({name:"",country:"",id:null})();function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.a;return e.reduce((function(e,a){return e.set(a.id,new t(a))}),new N.b({}))}var x=Object(N.c)({loading:!1,entities:new N.b({})}),_=Object(N.c)({id:0,city:"",city_id:0,address:"",date:"",district:null,additional:"",players:0,activePlayers:1}),D=new x,M=new(Object(N.c)({id:null,city:null,address:null,lat:null,district:null,long:null,players:0,city_id:0,active_players:1,date:null,additional:null,loading:!1,fieldNumbersInGame:[]}));function I(e,t){var a=t.fieldNumbersInGame;return e.set("fieldNumbersInGame",a)}function P(e,t){var a=t.fieldNumbersInGame;return e.set("fieldNumbersInGame",a)}var G=Object(N.c)({loading:!1,entities:new N.b({})}),T=Object(N.c)({id:null,text:null,username:null,date:null}),L=new G,R=new N.c({loading:!1,loaded:!1})(),H=Object(y.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(console.log("initial state, auth",t),t.type){case"SET_CURRENT_USER":var a=t.user;return localStorage.setItem("user",JSON.stringify(a)),{user:C(a),isAuthenticated:!j.isEmpty(a)};default:return e}},location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CITY":return t.payload?e.merge(t.payload):S;default:return e}},games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOAD_GAMES_SUCCESS":return n.data?e.update("entities",(function(e){return A(n.data,_).sortBy((function(e){return e.get("date")}))})):D;case"GAME_ADDED_START":return e.set("loading",!0);case"PLAYER_JOINED":console.log("player join in list",n);var r=n.gameId,c=n.activePlayers;return e.updateIn(["entities",r],(function(e){try{return e.set("activePlayers",c)}catch(t){console.log("not connected to list yet")}}));case"GAME_ADDED_SUCCESS":var s=n.data,i=s.id,l=s.city_id;return l!==n.store.location.id?e:e.setIn(["entities",i],new _(n.data)).set("loading",!1).update("entities",(function(e){return e.sortBy((function(e){return e.get("date")}))}));default:return e}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOAD_GAME_START":return e.set("loading",!0);case"LOAD_GAME_SUCCESS":return e.merge(n.data).set("loading",!1);case"PLAYER_JOINED":var r=n.gameId,c=n.activePlayers,s=n.info;return e.get("id")===r?"joined"===s.event?P(e,s):"leaved"===s.event?I(e,s):e.set("active_players",c).set("fieldNumbersInGame",s.fieldNumbersInGame):e;default:return e}},gameChat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GAME_CHAT_MESSAGE_HISTORY":return e.update("entities",(function(e){return A(n,T)}));case"GAME_CHAT_MESSAGE_ADDED":var r=e.setIn(["entities",n.id],new T(n));return r.update("entities",(function(e){return r.entities.sortBy((function(e){return e.get("date")})).reverse()}));default:return e}},loader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(console.log("TYPE ----",t.type),t.type){case"LOADING":return console.log("loading !!!!"),e.set("loading",!0).set("loaded",!1);case"LOADED":return e.set("loading",!1).set("loaded",!0);default:return e}}}),U=a(165),Y=a(3),J=Object(y.createStore)(H,Object(U.composeWithDevTools)(Object(y.applyMiddleware)(O.a,(function(e){return function(t){return function(a){var n=a.callApi,r=a.type,c=Object(Y.a)(a,["callApi","type"]);return n?(t(Object(p.a)({},c,{type:r+"_START"})),B.get(n).then((function(a){t(Object(p.a)({},c,{type:r+v,payload:Object(p.a)({},a,{store:e.getState()})}))}),(function(e){t(Object(p.a)({},c,{type:r+"_FAIL",error:e}))}))):t(a)}}}))));E.a.defaults.baseURL="/api",E.a.interceptors.response.use((function(e){return e}),(function(e){return 403===e.response.status&&J.dispatch(F({})),Promise.reject(e)}));var B=E.a;function F(e){return{type:"SET_CURRENT_USER",user:e}}var W=a(76),q=a(77),z=a(17),K=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.logout,r=e.t;return n.createElement("div",{className:"absolute-login-widget"},n.createElement("div",null,t.isAuthenticated?t.user.name:"",t.isAuthenticated?n.createElement("a",{onClick:a,href:"#",className:"sign-out"},n.createElement(W.a,{icon:q.b})):n.createElement(d.a,{to:"/login",className:"sign-out"},r("\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f")," ",n.createElement(W.a,{icon:q.b}))))}}]),t}(n.Component),V=Object(s.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.post("/auth/logout",{});case 2:localStorage.removeItem("user"),t(F({}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Object(z.b)()(K)),Q=(a(225),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={mobileMenuShowed:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"toggleMenu",value:function(){this.setState({mobileMenuShowed:!this.state.mobileMenuShowed})}},{key:"hideMenu",value:function(){this.setState({mobileMenuShowed:!1})}},{key:"render",value:function(){var e=this.props.t;return n.createElement("nav",{className:"main-menu"},n.createElement("div",{className:"container"},n.createElement("div",{className:"mobile-only"},n.createElement("div",{className:"mobile-menu"},n.createElement(W.a,{onClick:this.toggleMenu.bind(this),icon:q.a,size:"2x"}),this.state.mobileMenuShowed&&n.createElement("div",{className:"mobile-menu-items"},n.createElement("ul",{className:"shadow-2"},n.createElement("li",{onClick:this.hideMenu.bind(this)},n.createElement(d.a,{to:"/"},e("\u0413\u043b\u0430\u0432\u043d\u0430\u044f"))),n.createElement("li",{onClick:this.hideMenu.bind(this)},n.createElement(d.a,{to:"/about"},e("\u041e \u0441\u0435\u0440\u0432\u0438\u0441\u0435"))),n.createElement("li",{onClick:this.hideMenu.bind(this)},n.createElement(d.a,{to:"/create-game"},e("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u0433\u0440\u0443"))))))),n.createElement("ul",{id:"main-menu-ul",className:"desktop-only"},n.createElement("li",{className:"/"===window.location.pathname?"active":""},n.createElement(d.a,{to:"/"},e("\u0413\u043b\u0430\u0432\u043d\u0430\u044f"))),n.createElement("li",{onClick:this.hideMenu.bind(this),className:"/about"===window.location.pathname?"active":""},n.createElement(d.a,{to:"/about"},e("\u041e \u0441\u0435\u0440\u0432\u0438\u0441\u0435"))),n.createElement("li",{className:"/create-game"===window.location.pathname?"active":""},n.createElement(d.a,{to:"/create-game"},e("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u0433\u0440\u0443")))),n.createElement(V,null)))}}]),t}(n.Component)),X=Object(z.b)()(Q),Z=a(12),$=(a(226),a(227),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.country,r=e.id,c=e.doChoice;return n.createElement("div",{className:"city-item",onClick:function(){c({name:t,country:a,id:r})}},this.composeAddress(this.props.name),n.createElement("small",null,this.composeAddress(this.props.region,", ")),n.createElement("small",null,this.composeAddress(this.props.country,", ")))}},{key:"composeAddress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?n.createElement("span",null,t+e):""}}]),t}(n.Component)),ee=Object(s.b)((function(e){return{location:e.location}}),null)($),te=(a(228),n.createContext(null)),ae=te.Provider,ne=te.Consumer,re=function(e){return function(t){return n.createElement(ne,null,(function(a){return n.createElement(e,Object.assign({},t,{cityService:a}))}))}},ce=n.createContext(null),se=ce.Provider,ie=ce.Consumer,le=function(e){return function(t){return n.createElement(ie,null,(function(a){return n.createElement(e,Object.assign({},t,{gameService:a}))}))}},oe=function(e){var t=function(t){function a(){return Object(i.a)(this,a),Object(o.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,t),Object(l.a)(a,[{key:"checkAuth",value:function(){this.props.isAuthenticated||this.props.history.push("/")}},{key:"componentDidMount",value:function(){this.checkAuth()}},{key:"componentDidUpdate",value:function(){this.checkAuth()}},{key:"render",value:function(){return n.createElement(e,this.props)}}]),a}(n.Component);return Object(s.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))(t)},ue=re(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={cities:[],city:"",loading:null},a.handleChange=function(){var e=Object(g.a)(f.a.mark((function e(t){var n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,a.setState({city:n}),r=a.props.cityService,!(n.length>2)){e.next=11;break}return a.setState({loading:!0}),e.next=7,r.getCities(n);case 7:c=e.sent,console.log(c),a.setState({loading:!1}),a.setState({cities:c});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.pickerDoChoice=function(e){return a.setState({cities:[],city:e.name}),a.props.doChoice(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"city-auto-complete"},n.createElement("input",{type:"text",className:"form-control",autoComplete:"off",placeholder:"\u0413\u043e\u0440\u043e\u0434",onChange:this.handleChange}),this.state.loading&&n.createElement("div",{className:"lds-hourglass"}),this.state.cities.length?n.createElement("div",{className:"list"},this.state.cities.map((function(t){return n.createElement(ee,Object.assign({key:t.id},t,{doChoice:e.pickerDoChoice}))}))):null)}}]),t}(n.Component));a(229);var me=function(e){return e.message?n.createElement("div",{className:"common-error-message"},e.message):null},de=a(382),pe=(a(230),a(25)),he=a(385),fe=a(400),ge=a(168),ve=(a(231),a(232),a(169)),be=a.n(ve),Ee=a(173),ye=a(381),Oe=Object(Ee.a)({palette:{primary:be.a}}),je=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleDateChange=function(e){(0,a.props.onChange)(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.t;return n.createElement("div",{className:"date"},n.createElement(ye.a,{theme:Oe},n.createElement(pe.a,{locale:"ru",utils:ge.a},n.createElement(de.a,{container:!0,justify:"space-around"},n.createElement("div",{className:"customDatePickerWidth"},n.createElement(he.a,{disableToolbar:!0,variant:"inline",margin:"normal",id:"date-picker-inline",label:e("\u0414\u0430\u0442\u0430"),value:this.props.value,onChange:this.handleDateChange,KeyboardButtonProps:{"aria-label":"change date"}})),n.createElement("div",{className:"customDatePickerWidth"},n.createElement(fe.a,{disableToolbar:!0,margin:"normal",id:"time-picker",label:e("\u0412\u0440\u0435\u043c\u044f"),ampm:!1,cancelLabel:"\u041e\u0442\u043c\u0435\u043d\u0430",okLabel:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",value:this.props.value,onChange:this.handleDateChange,KeyboardButtonProps:{"aria-label":"change time"}}))))))}}]),t}(n.Component),we=Object(z.b)()(je);function ke(e){return e?function(t){localStorage.setItem("location",JSON.stringify(e)),t(function(e){return{type:"LOAD_GAMES",callApi:"/game/city/".concat(e.id)}}(e)),t({type:"SET_CITY",payload:e})}:function(t){localStorage.setItem("location",""),t({type:"LOAD_GAMES_SUCCESS",payload:{data:null}}),t({type:"SET_CITY",payload:e})}}var Ce=a(69),Ne=a.n(Ce);function Se(){return console.log("ac loading"),{type:"LOADING"}}function Ae(){return console.log("ac loaded"),{type:"LOADED"}}Ce.locale("ru");var xe={data:{city:"",city_id:"",address:"",additional:"",players:6,date:Ne.a((new Date).setHours((new Date).getHours()+4)),district:""},errors:{}},_e=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state=void 0,a.setCity=function(e){a.setState({data:Object(p.a)({},a.state.data,{city:e.name,city_id:e.id})})},a.resetCity=function(){a.setState({data:Object(p.a)({},a.state.data,{city:""})})},a.onChange=function(e){a.setState({data:Object(p.a)({},a.state.data,Object(Z.a)({},e.target.name,e.target.value))})},a.validate=function(e){var t={};for(var a in e)-1===["players","lat","long","additional"].indexOf(a)&&(e[a]||(t[a]="\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"));return t},a.changeDate=function(e){a.setState({data:Object(p.a)({},a.state.data,{date:e})})},a.onSubmit=function(){var e=Object(g.a)(f.a.mark((function e(t){var n,r,c,s,i,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.state.data,a.checkIfAllowedCreate()){e.next=4;break}return e.abrupt("return");case 4:if(a.initCity(n),r=a.validate(n),a.setState({errors:r}),!w.a.isEmpty(r)){e.next=18;break}return c=a.props,s=c.gameService,i=c.loading,l=c.loaded,e.prev=9,i(),e.next=13,s.add(n);case 13:201===e.sent.status&&(a.setState(xe),console.log("red"),a.props.history.push("/"));case 15:return e.prev=15,l(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[9,,15,18]])})));return function(t){return e.apply(this,arguments)}}(),t.setMeta(),a.state=xe,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"checkIfAllowedCreate",value:function(){var e=this.props,t=e.auth,a=e.t;return t.isAuthenticated||alert(a("\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u0433\u0440\u0443")),t.isAuthenticated}},{key:"initCity",value:function(e){(0,this.props.setCity)({name:e.city,id:e.city_id})}},{key:"render",value:function(){var e=this.state,a=e.data,r=e.errors,c=this.props.t;return n.createElement("div",{className:"row main-content"},n.createElement("div",{className:"left-col create-game-left-col"},n.createElement("form",{className:"game-form",onSubmit:this.onSubmit},n.createElement("fieldset",null,n.createElement("legend",null,c("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u0433\u0440\u0443")),n.createElement("div",{className:"form-group",id:"gameCitySection"},n.createElement("label",null,c("\u0413\u043e\u0440\u043e\u0434")),!this.state.data.city&&n.createElement(ue,{doChoice:this.setCity,city:this.state.data.city}),this.state.data.city&&n.createElement("div",{className:"success-panel"},this.state.data.city,n.createElement("span",{onClick:this.resetCity},"\u2715")),r.city&&n.createElement(me,{message:r.city})),n.createElement("div",{className:"form-group"},n.createElement("label",null,c("\u0420\u0430\u0439\u043e\u043d")),n.createElement("input",{type:"text",className:"form-control",name:"district",value:a.district,onChange:this.onChange}),r.district&&n.createElement(me,{message:r.district})),n.createElement("div",{className:"form-group"},n.createElement("label",null,c("\u0410\u0434\u0440\u0435\u0441")),n.createElement("input",{type:"text",className:"form-control",name:"address",value:a.address,onChange:this.onChange}),r.address&&n.createElement(me,{message:r.address})),n.createElement("div",{className:"form-group date"},n.createElement(we,{onChange:this.changeDate,value:a.date}),r.date&&n.createElement(me,{message:r.date})),n.createElement("div",{className:"form-group"},n.createElement("label",null,c("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432")),n.createElement("select",{className:"form-control col-2",onChange:this.onChange,value:a.players,name:"players"},t.printFieldPlayersOptionList()),r.players&&n.createElement(me,{message:r.players}))),n.createElement("div",{className:"form-group"},n.createElement("label",null,c("\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e")),n.createElement("textarea",{className:"form-control",name:"additional",value:a.additional,onChange:this.onChange}),r.additional&&n.createElement(me,{message:r.additional})),n.createElement("div",{className:"form-group"},n.createElement("button",{type:"submit",className:"btn submit-btn shadow-0"},c("\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))))))}}],[{key:"setMeta",value:function(){document.title="Football for everyone"}},{key:"printFieldPlayersOptionList",value:function(){for(var e=[],t=6;t<23;t++)e.push(t);return e.map((function(e){return n.createElement("option",{key:e},e)}))}}]),t}(n.Component),De=Object(s.b)((function(e){return{location:e.location,games:e.game,auth:e.auth}}),{setCity:ke,setUser:function(e){return console.log("set user"),function(t){t(F(e))}},loading:Se,loaded:Ae})(le(Object(z.b)()(_e))),Me=(a(233),a(72)),Ie=a.n(Me),Pe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{email:""},loading:!1,backendErrors:[],errors:{email:null}},a.onChange=function(e){a.setState({data:Object(p.a)({},a.state.data,Object(Z.a)({},e.target.name,e.target.value))})},a.submit=function(){var e=Object(g.a)(f.a.mark((function e(n){var r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props.forgotPassword,n.preventDefault(),c=t.validate(a.state.data),w.a.isEmpty(c.email)){e.next=6;break}return a.setState({errors:c}),e.abrupt("return");case 6:return e.next=8,r(a.state.data.email);case 8:window.location.href="/";case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.data.email;return n.createElement("div",null,n.createElement("form",{className:"col-12 col-md-6 col-lg-6 col-xl-6 login-form",onSubmit:this.submit},n.createElement("div",{className:"form-group"},this.state.errors.email&&n.createElement(me,{message:this.state.errors.email}),n.createElement("label",null,"Email"),n.createElement("input",{value:e,name:"email",onChange:this.onChange,className:"form-control",type:"text"})),n.createElement("p",null,n.createElement("button",{type:"submit",className:"btn submit-btn mb-2"},"\u0412\u043e\u0439\u0442\u0438"))))}}],[{key:"validate",value:function(e){var t={email:""};return e.email&&!Ie.a.isEmail(e.email)&&(t.email="\u041d\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 \u0435\u043c\u0435\u0439\u043b"),e.email||(t.email="\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),t}}]),t}(n.Component),Ge=Object(s.b)(null,{forgotPassword:function(e){return function(){var t=Object(g.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.post("/auth/forgot-password",{email:e});case 3:return n=t.sent,t.abrupt("return",Object(p.a)({},n.data,{status:n.status}));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(Pe);a(294),a(295);var Te=Object(z.b)()((function(e){var t=e.t;return n.createElement("a",{href:"/api/auth/google"},n.createElement("div",{className:"loginWithGoogle"},n.createElement("img",{width:"20px",alt:"Google sign-in",src:"/img/Google__G__Logo.svg.webp"}),t("\u0412\u043e\u0439\u0442\u0438")," ",t("\u0441")," google"))})),Le=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{email:"",password:""},loading:!1,backendErrors:[],errors:{email:null,password:null}},a.goToRegister=function(e){e.preventDefault(),window.location.href="/registration"},a.onChange=function(e){a.setState({data:Object(p.a)({},a.state.data,Object(Z.a)({},e.target.name,e.target.value))})},a.submit=function(){var e=Object(g.a)(f.a.mark((function e(t){var n,r,c,s,i,l,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n.login,c=n.loading,s=n.loaded,i=a.state.data,t.preventDefault(),l=a.validate(i),a.setState({errors:l}),l.email||l.password){e.next=15;break}return e.prev=6,c(),e.next=10,r(i);case 10:o=e.sent,a.handleErrors(o.status);case 12:return e.prev=12,s(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[6,,12,15]])})));return function(t){return e.apply(this,arguments)}}(),a.validate=function(e){var t={password:null,email:null};return e.password||(t.password="\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),e.email||(t.email="\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),Ie.a.isEmail(e.email)||(t.email="\u041d\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 \u0435\u043c\u0435\u0439\u043b"),t},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleErrors",value:function(e){if(e<300)this.props.history.push("/");else switch(e){case 401:this.setState({backendErrors:["\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441\u0441"]});break;case 403:this.setState({backendErrors:["\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"]});break;default:this.setState({backendErrors:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u043e\u0449\u0438\u0431\u043a\u0430, \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443"]})}}},{key:"render",value:function(){var e=this.props.t,t=this.state.data;return n.createElement("div",null,n.createElement("form",{className:"col-md-6 login-form",onSubmit:this.submit},this.state.backendErrors.map((function(e){return n.createElement(me,{key:e,message:e})})),n.createElement("div",{className:"form-group"},n.createElement("label",null,"E-mail ",e("\u0430\u0434\u0440\u0435\u0441")),n.createElement("input",{type:"email",id:"email",name:"email",placeholder:"example@gmail.com",value:t.email,onChange:this.onChange,className:"form-control"}),this.state.errors.email&&n.createElement(me,{message:this.state.errors.email})),n.createElement("div",{className:"form-group"},n.createElement("label",null,"\u041f\u0430\u0440\u043e\u043b\u044c"),n.createElement("input",{type:"password",id:"password",name:"password",value:t.password,onChange:this.onChange,className:"form-control",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),this.state.errors.password&&n.createElement(me,{message:this.state.errors.password})),n.createElement("div",{className:"form-group"},n.createElement("div",{className:"forgot-password"},n.createElement(d.a,{to:"/forgot-password"},e("\u0417\u0430\u0431\u044b\u043b\u0438")," \u043f\u0430\u0440\u043e\u043b\u044c ?")),n.createElement("button",{type:"submit",className:"btn submit-btn mb-2"},e("\u0412\u043e\u0439\u0442\u0438")),"\xa0",n.createElement("button",{onClick:this.goToRegister,className:"btn submit-btn mb-2"},e("\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0442\u0441\u044f")),n.createElement("br",null),n.createElement(Te,null))))}}]),t}(n.Component),Re=Object(s.b)((function(e){return{auth:e.auth}}),{login:function(e){return function(){var t=Object(g.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.post("/auth/login",e);case 3:return n=t.sent,a(F(n.data)),t.abrupt("return",Object(p.a)({},n.data,{status:n.status}));case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",t.t0.response);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},loading:Se,loaded:Ae})(Object(z.b)()(Le)),He=(a(296),a(396));a(297),a(298);var Ue=Object(z.b)()((function(e){var t=e.game,a=e.t;return n.createElement("div",{className:"game-info"},n.createElement("div",null,n.createElement("div",null,a("\u0413\u043e\u0440\u043e\u0434")),n.createElement("div",null,t.city)),n.createElement("div",null,n.createElement("div",null,"\u0420\u0430\u0439\u043e\u043d"),n.createElement("div",null,t.district)),n.createElement("div",null,n.createElement("div",null,a("\u0410\u0434\u0440\u0435\u0441")),n.createElement("div",null,t.address)),n.createElement("div",null,n.createElement("div",null,a("\u0418\u0433\u0440\u043e\u043a\u043e\u0432")),n.createElement("div",null,t.players," (",t.active_players,")")),t.additional&&n.createElement("div",null,n.createElement("div",null,a("\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e")),n.createElement("div",null,t.additional)))})),Ye=(a(299),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.createElement("div",{className:"teems-vs-flags"},n.createElement("div",{className:"first-teem"},n.createElement("div",null,n.createElement("img",{alt:"football-teem-first",src:"/img/orange-shirt.svg"}))),n.createElement("div",{className:"vs"},"\u2014"),n.createElement("div",{className:"second-teem"},n.createElement("div",null,n.createElement("img",{alt:"football-teem-second",src:"/img/white-shirt.svg"}))))}}]),t}(n.Component)),Je=(a(300),a(301),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.message,t=e.text,a=e.username,r=e.date;return n.createElement("li",{className:"chatMessage"},n.createElement("div",{className:"message-data"},n.createElement("span",{className:"message-data-name"},a),n.createElement("span",{className:"message-data-time"},new Date(r).toISOString().slice(0,16).replace("T"," "))),n.createElement("div",{className:"message my-message shadow-0"},t))}}]),t}(n.Component)),Be=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).maintainSocketMessages=function(){var e=Object(g.a)(f.a.mark((function e(t){var n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.props,r=n.addChatMessage,c=n.loadChatHistory,t.on("*",(function(e){switch(console.log(e),e.data[0]){case"GAME_CHAT_MESSAGE_HISTORY":c(e.data[1]);break;case"GAME_CHAT_MESSAGE_ADDED":r(e.data[1])}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={message:null},a.onChange=function(e){a.setState(Object(Z.a)({},e.target.name,e.target.value))},a.sendMessage=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13===t.keyCode){e.next=2;break}return e.abrupt("return");case 2:if(""!==t.target.value.trim()){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,a.submit();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.gameService,n=t.gameId,e.t0=this,e.next=4,a.initChat(n);case 4:return e.t1=e.sent,e.next=7,e.t0.maintainSocketMessages.call(e.t0,e.t1);case 7:return e.next=9,a.getChatHistory(n);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.gameService.destroyChat()}},{key:"submit",value:function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementById("message").value=null,t=this.props,a=t.gameService,n=t.gameId,r=t.t,c=w.a.pick(this.state,["message"]),c.message){e.next=6;break}return alert("\u041d\u0435\u0442 \u0441\u043c\u044b\u0441\u043b\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"),e.abrupt("return");case 6:return e.prev=6,e.next=9,a.addChatMessage(Object(p.a)({},w.a.pick(this.state,["message"]),{gameId:n}));case 9:this.setState({message:null}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),e.t0.response.status>400&&e.t0.response.status<500&&alert(r("\u0417\u0430\u043b\u043e\u0433\u0438\u043d\u0442\u0435\u0441\u044c, \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043b\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0432 \u0447\u0430\u0442"));case 15:case"end":return e.stop()}}),e,this,[[6,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.gameChat,a=e.t;return n.createElement("div",{className:"chat"},n.createElement("hr",null),n.createElement("div",{className:"form-group"},n.createElement("textarea",{onChange:this.onChange,className:"form-control",name:"message",id:"message",onKeyUp:this.sendMessage}),n.createElement("br",null),n.createElement("button",{className:"btn submit-btn mb-2 shadow-0",onClick:this.submit.bind(this)},a("\u041f\u043e\u0441\u043b\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"))),n.createElement("form",null,n.createElement("ul",null,t.entities.valueSeq().map((function(e){return n.createElement(Je,{key:e.id,message:e})})))))}}]),t}(n.Component),Fe=Object(s.b)((function(e){return{gameChat:e.gameChat}}),{addChatMessage:function(e){return{type:"GAME_CHAT_MESSAGE_ADDED",payload:e}},loadChatHistory:function(e){return{type:"GAME_CHAT_MESSAGE_HISTORY",payload:e}}})(le(Object(z.b)()(Be))),We=(a(302),a(303),a(304),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).applyGame=function(){var e=a.props,t=e.gameService,n=e.game,r=e.index,c=e.loading,s=e.loaded;c(),t.joinGame(n.id,r).catch((function(e){e.response.status>400&&e.response.status<500&&alert("\u0417\u0430\u043b\u043e\u0433\u0438\u043d\u0442\u0435\u0441\u044c \u0441\u043d\u0430\u0447\u0430\u043b\u0430")})).finally(s)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.teem,a=e.index,r=e.gameRedux,c=r.fieldNumbersInGame&&r.fieldNumbersInGame.length>0&&-1!==r.fieldNumbersInGame.indexOf(a),s="/img/"+t+"-shirt.svg";return n.createElement("div",{className:"relative player",onClick:this.applyGame},n.createElement("div",{className:"number"},a),c?n.createElement("img",{className:"shirt",alt:"active-shirt",src:s}):n.createElement("img",{alt:"grey-shirt",className:"t-shirt-grey shirt",src:"/img/gray-shirt.svg"}))}}]),t}(n.Component)),qe=le(Object(s.b)((function(e){return{gameRedux:e.game}}),{loading:Se,loaded:Ae})(We)),ze=function(){function e(t){if(Object(i.a)(this,e),this.players=void 0,this.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},this.tacticOrders={2:[1,1],3:[1,2],4:[1,2,1],5:[1,3,1],6:[1,3,2],7:[1,3,2,1],8:[1,3,3,1],9:[1,3,1,3,1],10:[1,3,2,3,1],11:[[1,4,4,2],[1,4,3,3]]},isNaN(t)||t<0)throw Error("Invalid parameter, should be number and > 0");this.players=t}return Object(l.a)(e,[{key:"splitOnTeems",value:function(){if(this.players%2){var e=(this.players-1)/2;return[e+1,e]}var t=this.players/2;return[t,t]}},{key:"formGameOrder",value:function(){var e=this,t=this.splitOnTeems(),a=[];return t.forEach((function(t,n){var r=Array.isArray(e.tacticOrders[t][0])?e.tacticOrders[t][e.randomInt(0,e.tacticOrders[t].length-1)]:e.tacticOrders[t];a.push(r)})),a}}]),e}(),Ke=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={gameOrder:[],players:0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=" football-field ";return e+=this.props.auth.isAuthenticated?"active":"regular",n.createElement("div",null,n.createElement("div",{className:"north-socket"}),n.createElement("div",{className:e},n.createElement("div",{className:"football-field-center"}),n.createElement("div",{className:"left-top-corner"}),n.createElement("div",{className:"right-top-corner"}),n.createElement("div",{className:"left-bottom-corner"}),n.createElement("div",{className:"right-bottom-corner"}),this.state.gameOrder.length>0&&this.generateLines()),n.createElement("div",{className:"south-socket"}))}},{key:"generateLines",value:function(){var e=[],t=this.props.game,a=t.players,r=[[],[]],c=[],s=1;return this.state.gameOrder.forEach((function(e,i){e.forEach((function(e){c=[];for(var l=1;l<=e&&a>0;l++)c.push(n.createElement(qe,{teem:0===i?"orange":"white",key:l,game:t,index:a,isActive:!1})),a--;r[i].push(n.createElement("div",{key:s++,className:"tactic-line "},c))}))})),e.push(n.createElement("div",{key:"north-side",className:"half-field north-side lines-".concat(r[0].length)},r[0])),e.push(n.createElement("div",{key:"south-side",className:"half-field south-side lines-".concat(r[1].length)},r[1])),e}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{gameOrder:e.game.players===t.players?t.gameOrder:new ze(e.game.players).formGameOrder(),players:e.game.players}}}]),t}(n.Component),Ve=Object(s.b)((function(e){return{auth:e.auth}}))(Ke),Qe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={gameOrder:[],players:0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="Football for everyone";var e=this.props,t=e.match.params;(0,e.loadGame)(t.id)}},{key:"render",value:function(){var e=this.props,t=e.game,a=e.auth,r=e.t,c=this.props.match.params.id;return n.createElement("div",null,n.createElement("div",{className:"row game"},n.createElement("div",{className:"left-col"},n.createElement("div",null,n.createElement("p",null,a.isAuthenticated?r("\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u0444\u0443\u0442\u0431\u043e\u043b\u043a\u0443"):r("\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f, \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0442\u0435\u0441\u044c \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u0444\u0443\u0442\u0431\u043e\u043b\u043a\u0443"))),n.createElement("div",{className:"football-field-wrapper shadow-1"},n.createElement("div",null,"// @ts-ignore",n.createElement(Ve,{game:t})))),n.createElement("div",{className:"right-col"},n.createElement("div",{className:"flags-info"},n.createElement(Ue,{game:t}),n.createElement(Ye,null)),n.createElement(Fe,{gameId:c}))))}}]),t}(n.Component),Xe=Object(s.b)((function(e){return{game:e.game,auth:e.auth}}),{loadGame:function(e){return{type:"LOAD_GAME",callApi:"/game/".concat(e)}}})(le(Object(z.b)()(Qe))),Ze=(a(305),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){t.setMeta()}},{key:"render",value:function(){var e=this.props.t;return n.createElement("h3",null,n.createElement("article",null,n.createElement("i",null,e("\u0415\u0441\u043b\u0438 \u0442\u044b \u043d\u0435 \u0437\u043d\u0430\u0435\u0448\u044c, \u0433\u0434\u0435 \u043d\u0430\u0439\u0442\u0438 \u043b\u044e\u0434\u0435\u0439 \u0434\u043b\u044f \u0438\u0433\u0440\u044b \u0432 \u0444\u0443\u0442\u0431\u043e\u043b - \u044d\u0442\u043e \u0441\u0430\u0439\u0442 \u043a\u0430\u043a \u0440\u0430\u0437 \u0434\u043b\u044f \u0442\u0435\u0431\u044f! \u0422\u0443\u0442 \u0442\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0434\u043b\u044f \u0438\u0433\u0440\u044b \u0432 \u0444\u0443\u0442\u0431\u043e\u043b. \u0422\u0443\u0442 \u0442\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u0433\u0440\u0443 \u043b\u0438\u0431\u043e \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f \u043a \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0439."))))}}],[{key:"setMeta",value:function(){document.title="About"}}]),t}(n.Component)),$e=Object(z.b)()(Ze),et=(a(306),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{email:"",password:"",name:"",repeatPassword:""},loading:!1,errors:{email:null,repeatPassword:null,password:null,name:null},backendErrors:[]},a.onChange=function(e){a.setState({data:Object(p.a)({},a.state.data,Object(Z.a)({},e.target.name,e.target.value))})},a.validate=function(e){var t=a.props.t,n={password:null,email:null,name:null,repeatPassword:null};return e.password||(n.password=t("\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c")),e.email||(n.email=t("\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c")),e.name||(n.name=t("\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c")),!e.password!==!e.repeatPassword&&(n.repeatPassword=t("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442")),Ie.a.isEmail(e.email)||(n.email=t("\u041d\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 \u0435\u043c\u0435\u0439\u043b")),n},a.onSubmit=function(){var e=Object(g.a)(f.a.mark((function e(t){var n,r,c,s,i,l,o,u,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.props.t,r=a.state.data,t.preventDefault(),c=a.validate(r),a.setState({errors:c}),e.t0=f.a.keys(c);case 6:if((e.t1=e.t0()).done){e.next=12;break}if(s=e.t1.value,!c[s]){e.next=10;break}return e.abrupt("return");case 10:e.next=6;break;case 12:return i=w.a.pick(r,["name","password","email"]),l=a.props,o=l.registration,u=l.loading,m=l.loaded,e.prev=14,u(),e.next=18,o(i);case 18:a.props.history.push("/complete-registration"),e.next=29;break;case 21:e.prev=21,e.t2=e.catch(14),e.t3=e.t2.status,e.next=403===e.t3?26:28;break;case 26:return a.setState({backendErrors:[n("\u0422\u0430\u043a\u043e\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442")]}),e.abrupt("break",29);case 28:a.setState({backendErrors:e.t2.data.errors});case 29:return e.prev=29,m(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[14,21,29,32]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.t,t=this.state.data;return n.createElement("form",{className:" col-12 col-md-12 col-sm-12 col-lg-6 col-xl-6 login-form",onSubmit:this.onSubmit},this.state.backendErrors?this.state.backendErrors.map((function(e){return n.createElement(me,{key:e,message:e})})):null,n.createElement("div",{className:"form-group"},n.createElement("label",null,"\u041d\u0438\u043a"),n.createElement("input",{type:"name",id:"name",name:"name",value:t.name,placeholder:e("\u0411\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u0441\u044f \u0432 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435"),onChange:this.onChange,className:"form-control"}),this.state.errors.name&&n.createElement(me,{message:this.state.errors.name})),n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"exampleInputEmail1"},"E-mail ",e("\u0430\u0434\u0440\u0435\u0441")),n.createElement("input",{type:"email",id:"email",name:"email",placeholder:"example@gmail.com",value:t.email,onChange:this.onChange,className:"form-control"}),this.state.errors.email&&n.createElement(me,{message:this.state.errors.email})),n.createElement("div",{className:"form-group"},n.createElement("label",null,"\u041f\u0430\u0440\u043e\u043b\u044c"),n.createElement("input",{type:"password",id:"password",name:"password",value:t.password,onChange:this.onChange,className:"form-control",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),this.state.errors.password&&n.createElement(me,{message:this.state.errors.password})),n.createElement("div",{className:"form-group"},n.createElement("input",{type:"password",id:"repeatPassword",name:"repeatPassword",value:t.repeatPassword,onChange:this.onChange,className:"form-control",placeholder:e("\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c")}),this.state.errors.repeatPassword&&n.createElement(me,{message:this.state.errors.repeatPassword})),n.createElement("div",{className:"form-group"},n.createElement("button",{type:"submit",className:"btn submit-btn mb-2"},e("\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0442\u0441\u044f"))))}}]),t}(n.Component)),tt=Object(s.b)(null,{registration:function(e){return function(t){return new Promise((function(a,n){B.post("/auth/registration",e).then((function(e){a(e)})).catch((function(e){console.log(e.response.data),t(F({})),n(e.response)}))}))}},loading:Se,loaded:Ae})(Object(z.b)()(et)),at=a(399),nt=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.createElement("div",null,"\u041d\u0430 \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443 \u0431\u044b\u043b\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435")}}]),t}(n.Component),rt=(a(307),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{password:"",confirmPassword:""},loading:!1,backendErrors:[],errors:{password:"",confirmPassword:""}},a.onChange=function(e){a.setState({data:Object(p.a)({},a.state.data,Object(Z.a)({},e.target.name,e.target.value))})},a.onSubmit=function(){var e=Object(g.a)(f.a.mark((function e(n){var r,c,s,i,l,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props,c=r.loaded,s=r.loading,i=r.changePassword,s(),n.preventDefault(),e.prev=3,l=t.validate(a.state.data),o=l.password,a.setState(Object(p.a)({},a.state,{errors:{password:"",confirmPassword:""}})),e.next=8,i(o);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a.setState(Object(p.a)({},a.state,{errors:{password:e.t0.toString().slice(7,100),confirmPassword:e.t0.toString().slice(7,100)}}));case 13:return e.prev=13,c(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated||(window.location.href="/")}},{key:"render",value:function(){var e=this.props.auth.user;return"google"===e.type?n.createElement("div",null,n.createElement("h3",null,e.name),n.createElement("p",null,"google account")):n.createElement("form",{className:"col-12 col-md-12 col-sm-12 col-lg-6 col-xl-6 login-form",onSubmit:this.onSubmit},this.state.errors.password&&n.createElement(me,{message:this.state.errors.password}),n.createElement("h2",null,e.name),n.createElement("h3",null,"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"),n.createElement("div",null,n.createElement("label",null,"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c")),n.createElement("div",null,n.createElement("input",{onChange:this.onChange,name:"password",className:"form-control"})),this.state.errors.confirmPassword&&n.createElement(me,{message:this.state.errors.confirmPassword}),n.createElement("div",null,n.createElement("label",null,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c")),n.createElement("div",null,n.createElement("input",{onChange:this.onChange,name:"confirmPassword",className:"form-control"})),n.createElement("br",null),n.createElement("div",{className:"form-group"},n.createElement("button",{type:"submit",className:"btn submit-btn shadow-0"},"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c")),n.createElement("br",null))}}],[{key:"validate",value:function(e){var t=e.password,a=e.confirmPassword;if(!t||!a||t!==a)throw Error("\u041d\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435");return{password:t,confirmPassword:a}}}]),t}(n.Component)),ct=Object(s.b)((function(e){return{auth:e.auth}}),{loaded:Ae,loading:Se,changePassword:function(e){return function(){var t=Object(g.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.post("/auth/change-password",{password:e});case 3:return n=t.sent,t.abrupt("return",Object(p.a)({},n.data,{status:n.status}));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(rt),st=a(389),it=(a(308),a(390)),lt=a(391),ot=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).click=function(){a.props.history.push("/game/".concat(a.props.item.id))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"dateToReadable",value:function(){var e=this.props.item.date;return new Date(e).toISOString().slice(0,16).replace("T"," ")}},{key:"render",value:function(){var e=this.props.item,t=e.address,a=e.district,r=e.players,c=e.activePlayers,s=e.id;return this.props.item?n.createElement(it.a,{key:s,onClick:this.click},n.createElement(lt.a,null,a),n.createElement(lt.a,null,t),n.createElement(lt.a,null,this.dateToReadable()),n.createElement(lt.a,null,r," (",c,")")):null}}]),t}(n.Component),ut=Object(at.a)(ot),mt=(a(310),a(311),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){a.props.onChange(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.createElement("div",{className:"input-barrette-wrap"},n.createElement("div",{className:"input-barrette shadow-1"},n.createElement("div",null,n.createElement("input",{type:"text",className:"form-control",onChange:this.onChange,placeholder:"\u0440\u0430\u0439\u043e\u043d"}))))}}]),t}(n.Component)),dt=a(393),pt=a(395),ht=a(394),ft=a(392),gt=a(386),vt=(a(312),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).resetCity=function(){(0,a.props.setCity)(null)},a.setCity=function(e){(0,a.props.setCity)(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.getItem("location")){var e=this.props.setCity;try{e(JSON.parse(localStorage.getItem("location")))}catch(t){console.error(t)}}}},{key:"render",value:function(){return n.createElement("div",{className:"city-widget"},this.props.location.id?n.createElement("span",{onClick:this.resetCity,className:"city-name shadow-1"},this.props.location.name):n.createElement("div",{className:"table-city-picker shadow-1"},n.createElement(ue,{doChoice:this.setCity})))}}]),t}(n.Component)),bt=Object(s.b)((function(e){return{location:e.location}}),{setCity:ke})(vt),Et=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={district:null},a.filterDistrict=function(e){a.setState({district:e.target.value})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.games,r=t.t;return a.entities.valueSeq().size?n.createElement("div",{className:"game-sessions-greed"},n.createElement(bt,null),n.createElement("div",{className:"head-game-list"},n.createElement("div",{className:"district"},n.createElement(mt,{onChange:this.filterDistrict}))),n.createElement(ft.a,{component:gt.a},n.createElement(dt.a,{"aria-label":"simple table"},n.createElement(ht.a,null,n.createElement(it.a,null,n.createElement(lt.a,null,"\u0420\u0430\u0439\u043e\u043d"),n.createElement(lt.a,{align:"right"},r("\u0410\u0434\u0440\u0435\u0441")),n.createElement(lt.a,{align:"right"},r("\u0412\u0440\u0435\u043c\u044f")),n.createElement(lt.a,{align:"right"},r("\u0418\u0433\u0440\u043e\u043a\u043e\u0432")))),n.createElement(pt.a,null,a.entities.valueSeq().filter((function(t){return!e.state.district||t.district.includes(e.state.district)})).map((function(e){return n.createElement(ut,{key:e.id,item:e})})))))):n.createElement(bt,null)}}]),t}(n.Component),yt=Object(s.b)((function(e){return{location:e.location,games:e.games}}),null)(le(Object(z.b)()(Et))),Ot=a(119),jt={ua:{translation:a(172)}};Ot.a.use(z.a).init({resources:jt,lng:"ru",keySeparator:!1,interpolation:{escapeValue:!1}});var wt=Ot.a,kt=(a(313),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"setLocale",value:function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt.changeLanguage(t);case 2:return e.abrupt("return",null);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.createElement("div",{className:"locales"},n.createElement("a",{href:"#","data-loc":"ua",onClick:this.setLocale.bind(null,"ua")},n.createElement("img",{src:"/locales/ua-32.png"})),n.createElement("span",null,"  "),n.createElement("a",{href:"#","data-loc":"ru",onClick:this.setLocale.bind(null,"ru")},n.createElement("img",{src:"/locales/ru-32.png"})))}}]),t}(n.Component)),Ct=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.location,a=e.loader.loading,r=this.props.checkIfLogged;return console.log("loading",a),r().then(console.log),n.createElement("div",{className:t.id&&"city-picked"},n.createElement(X,null),n.createElement(kt,null),a&&n.createElement(st.a,{className:"loader-spinner",color:"primary",size:400,thickness:.3}),n.createElement("div",{className:"container main-content"},n.createElement(He.a,{path:"/about",exact:!0,component:$e}),n.createElement(He.a,{path:"/account",exact:!0,component:oe(ct)}),n.createElement(He.a,{path:"/login",exact:!0,component:Re}),n.createElement(He.a,{path:"/game/:id",exact:!0,component:Xe}),n.createElement(He.a,{path:"/forgot-password",exact:!0,component:Ge}),n.createElement(He.a,{path:"/registration",exact:!0,component:tt}),n.createElement(He.a,{path:"/create-game",exact:!0,component:De}),n.createElement(He.a,{path:"/complete-registration",exact:!0,component:nt}),n.createElement(He.a,{path:"/",exact:!0,component:yt})))}}]),t}(n.Component),Nt=Object(at.a)(Object(s.b)((function(e){return{location:e.location,loader:e.loader}}),{checkIfLogged:function(){return function(){var e=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.get("/auth/ping");case 3:a=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),-1!==e.t0.message.indexOf("code 401")&&t(F(null)),a=e.t0.message;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}})(Ct)),St=function(){function e(){Object(i.a)(this,e)}return Object(l.a)(e,[{key:"getCities",value:function(e){return e?B.get("/cities/getByName/".concat(e)).then((function(e){return e.data})):new Promise((function(e){e([])}))}}]),e}(),At=a(65),xt=a.n(At),_t=a(162)(xt.a.Manager),Dt=function(){function e(){Object(i.a)(this,e),this._gameSocket=void 0}return Object(l.a)(e,[{key:"add",value:function(e){return e.date=e.date.format().split("+")[0]+"+0000",B.post("/game",e)}},{key:"initChat",value:function(e){var t=this;return new Promise((function(a){t._gameSocket=xt()({path:"/chat/game"}),_t(t._gameSocket),t._gameSocket.on("connect",(function(){t._gameSocket.emit("join","game".concat(e),a(t._gameSocket))}))}))}},{key:"destroyChat",value:function(){this._gameSocket.disconnect()}},{key:"addChatMessage",value:function(e){return B.post("/game/chat",e)}},{key:"getChatHistory",value:function(e){return B.get("/game/chat/history/".concat(e))}},{key:"joinGame",value:function(e,t){return B.post("/game/join",{gameId:e,playerNumber:t})}}]),e}(),Mt=a(162)(xt.a.Manager),It=xt()({path:"/chat/game"}),Pt=xt()({path:"/chat/general"});Mt(Pt),Mt(It),Pt.on("*",(function(e){switch(e.data[0]){case"GAME_ADDED":console.log("game added"),J.dispatch((c=e.data[1],{type:"GAME_ADDED",callApi:"/game/".concat(c)}));break;case"PLAYER_JOINED":console.log("pl joined");var t=e.data[1],a=t.gameId,n=t.players,r=t.info;J.dispatch(function(e,t,a){return{type:"PLAYER_JOINED",payload:{gameId:e,activePlayers:t,info:a}}}(a,n,r));break;default:console.log("unknown action")}var c})),r.hydrate(n.createElement(c.a,null,n.createElement(s.a,{store:J},n.createElement(ae,{value:new St},n.createElement(se,{value:new Dt},n.createElement(Nt,null))))),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.2e1d5e2c.chunk.js.map