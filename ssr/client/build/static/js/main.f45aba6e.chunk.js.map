{"version":3,"sources":["constants.ts","reducer/auth.ts","reducer/location.ts","helpers/helpers.ts","reducer/games.ts","reducer/game.ts","reducer/game-chat.ts","reducer/loader.ts","reducer/index.ts","store/index.ts","middlewares/api.ts","libs/axios.ts","ac/auth.ts","components/header/login-widget/login-widget.tsx","components/header/login-widget/index.tsx","components/header/header.tsx","components/header/index.tsx","components/common/city-picker/set-city-item/set-city-item.tsx","components/common/city-picker/set-city-item/index.tsx","context/city-service-context/city-service-context.ts","HOCs/with-city-service.tsx","context/game-service-context/game-service-context.ts","HOCs/with-game-service.tsx","HOCs/authGuard.tsx","components/common/city-picker/index.tsx","components/common/city-picker/city-picker.tsx","components/common/messages/error-message/error-message.tsx","components/common/messages/error-message/index.tsx","components/common/date-time/date-time.tsx","components/common/date-time/index.tsx","ac/location.ts","ac/games.ts","ac/loader.ts","components/create-game/create-game.tsx","components/create-game/index.tsx","components/auth/forgot-password/forgot-password.tsx","components/auth/forgot-password/index.tsx","components/auth/login/oauth/google.tsx","components/auth/login/login.tsx","components/auth/login/index.tsx","components/game/game-info/game-info.tsx","components/game/game-info/index.tsx","components/game/teems-vs-flags/index.tsx","components/game/teems-vs-flags/teems-vs-flags.tsx","components/game/chat/chat-message/index.tsx","components/game/chat/chat-message/chat-message.tsx","components/game/chat/chat.tsx","components/game/chat/index.tsx","components/game/field-player/field-player.tsx","components/game/field-player/index.tsx","services/teems.ts","components/game/football-field/football-field.tsx","components/game/football-field/index.tsx","components/game/game.tsx","components/game/index.tsx","components/quotes/quotes.tsx","components/quotes/index.tsx","components/about/about.tsx","components/about/index.tsx","components/auth/registration/registration.tsx","components/auth/registration/index.tsx","components/auth/complete-registration/index.tsx","components/auth/complete-registration/complete-registration.tsx","components/account/account.tsx","components/account/index.tsx","components/games-list/game-item/game-item.tsx","components/games-list/game-item/index.tsx","components/common/input-barrette/index.tsx","components/common/input-barrette/input-barrette.tsx","components/common/set-city-widget/set-city-widget.tsx","components/common/set-city-widget/index.tsx","components/games-list/games-list.tsx","components/games-list/index.tsx","i18n.ts","components/locales/index.tsx","components/locales/locales.tsx","components/rules-mini-football/index.tsx","components/rules-mini-football/rules-mini-football.tsx","App.tsx","services/city.ts","services/game.ts","sockets.ts","index.tsx"],"names":["SUCCESS","initialState","user","isAuthenticated","_","pickUser","Record","name","country","id","arrToMap","arr","DataRecord","Map","reduce","acc","item","set","OrderedMap","ReducerState","loading","entities","GameRecord","city","city_id","address","date","district","additional","players","activePlayers","defaultState","lat","long","active_players","fieldNumbersInGame","leaveGame","gameState","joinGame","MessageRecord","text","username","loaded","combineReducers","auth","state","action","console","log","type","localStorage","setItem","JSON","stringify","location","payload","merge","games","data","update","sortBy","f","get","GAME_ADDED","gameId","updateIn","gameRecord","e","store","setIn","game","LOAD_GAME","info","event","gameChat","gameChatState","messages","it","reverse","loader","createStore","reducer","composeWithDevTools","applyMiddleware","thunk","next","callApi","rest","axios","then","response","getState","error","defaults","baseURL","interceptors","use","status","dispatch","setCurrentUser","Promise","reject","LoginWidget","Base64","window","hash","parse","decode","document","href","setCurUsr","this","props","logout","t","className","onClick","icon","faSignInAlt","Link","to","React","connect","a","post","removeItem","usr","tr","Header","mobileMenuShowed","setState","toggleMenu","bind","faBars","size","hideMenu","pathname","translate","SetCityItem","doChoice","composeAddress","region","value","delimiter","CityServiceProvider","Provider","CityServiceConsumer","Consumer","withCityService","WrappedComponent","cityService","GameServiceProvider","GameServiceConsumer","withGameService","gameService","OriginalComponent","MixedComponent","history","push","checkAuth","CityPicker","cities","handleChange","target","length","getCities","pickerDoChoice","autoComplete","placeholder","onChange","map","key","ErrorMessage","message","materialTheme","createMuiTheme","palette","primary","green","DateTimeComponent","handleDateChange","theme","locale","utils","MomentUtils","Grid","container","justify","DatePicker","margin","label","cancelLabel","okLabel","TimePicker","ampm","setCity","loadGames","moment","errors","CreateGame","resetCity","validate","i","indexOf","changeDate","onSubmit","preventDefault","checkIfAllowedCreate","initCity","isEmpty","add","setMeta","alert","printFieldPlayersOptionList","title","out","setUser","ForgotPassword","email","backendErrors","submit","forgotPassword","Validator","isEmail","translator","width","alt","src","Login","password","goToRegister","login","res","handleErrors","credentials","GameInfo","TeemsVsFlags","ChatMessage","Date","toISOString","slice","replace","Chat","maintainSocketMessages","socket","addChatMessage","loadChatHistory","on","sendMessage","keyCode","trim","initChat","getChatHistory","destroyChat","getElementById","pick","onKeyUp","valueSeq","FieldPlayer","applyGame","index","catch","finally","teem","gameRedux","isActive","activeShirt","Teems","randomInt","min","max","Math","floor","random","tacticOrders","2","3","4","5","6","7","8","9","10","11","isNaN","Error","oddPlayers","evenPlayers","teems","splitOnTeems","orders","forEach","order","Array","isArray","FootballField","gameOrder","fieldClass","generateLines","lines","total","teemsOnField","row","rowNum","nextProps","prevState","formGameOrder","Game","params","match","loadGame","withNamespaces","Quote","author","img","Quotes","kroif","quotes","formQuotes","randIndex","About","Registration","repeatPassword","registrationData","registration","htmlFor","resolve","err","CompleteRegistration","Account","confirmPassword","changePassword","toString","GameItem","click","TableRow","TableCell","dateToReadable","withRouter","InputBarrette","SetCityWidget","getItem","GamesList","filterDistrict","TableContainer","component","Paper","Table","aria-label","TableHead","align","TableBody","filter","includes","resources","ua","translation","i18n","reactI18nextModule","init","lng","keySeparator","interpolation","escapeValue","Locales","changeLanguage","data-loc","setLocale","RulesMiniFootball","App","checkIfLogged","CircularProgress","color","thickness","Route","path","exact","authGuard","CityService","patch","require","io","Manager","GameService","_gameSocket","format","split","emit","disconnect","playerNumber","gameSocket","generalSocket","playerJoined","ReactDOM","BrowserRouter"],"mappings":"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","file":"static/js/main.f45aba6e.chunk.js","sourcesContent":["export const START = '_START'\nexport const SUCCESS = '_SUCCESS'\nexport const FAIL = '_FAIL'\n\nexport const SET_CURRENT_USER = 'SET_CURRENT_USER'\nexport const SET_CITY = 'SET_CITY'\nexport const NOTIFY_CUSTOMER='NOTIFY_CUSTOMER'\nexport const WARN_USER='WARN_USER'\n\nexport const LOAD_GAMES = 'LOAD_GAMES'\nexport const LOAD_GAME = 'LOAD_GAME'\nexport const GAME_ADDED = 'GAME_ADDED'\nexport const PLAYER_JOINED = 'PLAYER_JOINED'\nexport const PLAYER_LEAVE = 'PLAYER_LEAVE'\n\nexport const GAME_CHAT_MESSAGE_ADDED = 'GAME_CHAT_MESSAGE_ADDED'\nexport const GAME_CHAT_MESSAGE_HISTORY = 'GAME_CHAT_MESSAGE_HISTORY'\n\nexport const LOADING = 'LOADING'\nexport const LOADED = 'LOADED'\n","import {SET_CURRENT_USER} from '../constants'\nimport * as _ from 'lodash'\nimport { Base64 } from 'js-base64'\nlet user: {name: string, type?: string} | null\n\nuser = assignUser()\n\nconst initialState = {\n  user,\n  isAuthenticated: !_.isEmpty(user),\n}\n\nexport default (state = initialState, action: any) => {\n  console.log('initial state, auth', action)\n  switch (action.type) {\n    case SET_CURRENT_USER:\n      const {user} = action\n      localStorage.setItem('user', JSON.stringify(user))\n      return {\n        user: pickUser(user), isAuthenticated: !_.isEmpty(user)\n      }\n    default:\n      return state\n  }\n};\n\nfunction pickUser(user: any) {\n  return _.pick(user, ['name'])\n}\n\nfunction assignUser(): {name: string} | null {\n  return null;\n  // let user;\n  // if (window && window.location.hash) {\n  //   user = JSON.parse(Base64.decode(window.location.hash))\n  //   localStorage.setItem('user', JSON.stringify(user))\n  //   return user\n  // } else {\n  //   try {\n  //     user = JSON.parse(localStorage.user)\n  //   } catch (e) {\n  //     user = null\n  //   }\n  // }\n  // return user\n}\n","// @ts-nocheck\nimport {SET_CITY} from '../constants'\nimport {Record} from 'immutable'\n\nconst initialState = new Record({\n  name: '',\n  country: '',\n  id: null,\n})();\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_CITY:\n      return action.payload ? state.merge(action.payload) : initialState\n    default:\n      return state\n  }\n};\n","import {OrderedMap, Map} from 'immutable';\n\n/**\n * @param {Array} arr\n * @param {function} DataRecord\n * @return {*}\n */\nexport function arrToMap(arr: any, DataRecord = Map) {\n  return arr.reduce(\n      // @ts-ignore\n      (acc: any, item: any) => acc.set(item.id, new DataRecord(item)),\n      // @ts-ignore\n      new OrderedMap({})\n  );\n}\n\n/**\n * @param {object} obj\n * @return {Array<T>}\n */\nexport function mapToArr(obj: any) {\n  return obj.valueSeq().toArray()\n}\n","/* eslint camelcase: 0 */\n// @ts-nocheck\nimport {\n  LOAD_GAMES,\n  SUCCESS,\n  GAME_ADDED,\n  START,\n  PLAYER_JOINED,\n} from '../constants';\nimport {OrderedMap, Record} from 'immutable';\nimport {arrToMap} from '../helpers/helpers';\n\nconst ReducerState = Record({\n  loading: false,\n  entities: new OrderedMap({}),\n});\n\nconst GameRecord = Record({\n  id: 0,\n  city: '',\n  city_id: 0,\n  address: '',\n  date: '',\n  district: null,\n  additional: '',\n  players: 0,\n  activePlayers: 1,\n});\n\nconst defaultState = new ReducerState();\n\nexport default (gameState = defaultState, action) => {\n  const {type, payload} = action;\n  switch (type) {\n    case LOAD_GAMES + SUCCESS:\n      if (!payload.data) {\n        return defaultState;\n      }\n      return gameState.update('entities', (entities) => {\n        return arrToMap(payload.data, GameRecord).sortBy(\n            (f) => f.get('date')\n        );\n      });\n    case GAME_ADDED + START:\n      return gameState.set('loading', true);\n    case PLAYER_JOINED:\n      console.log('player join in list', payload);\n      const {gameId, activePlayers} = payload;\n      return gameState.updateIn(['entities', gameId], (gameRecord) => {\n        try {\n          return gameRecord.set('activePlayers', activePlayers);\n        } catch (e) {\n          console.log('not connected to list yet');\n        }\n      });\n    case GAME_ADDED + SUCCESS:\n      const {id, city_id} = payload.data;\n      if (city_id !== payload.store.location.id) {\n        return gameState;\n      }\n      return gameState\n          .setIn(['entities', id], new GameRecord(payload.data))\n          .set('loading', false)\n          .update('entities', (entities) => {\n            return entities.sortBy((f) => f.get('date'));\n          });\n    default:\n      return gameState;\n  }\n};\n","import {Record} from 'immutable';\nimport {LOAD_GAME, SUCCESS, START, PLAYER_JOINED} from '../constants';\n\nconst GameRecord = Record({\n  id: null,\n  city: null,\n  address: null,\n  lat: null,\n  district: null,\n  long: null,\n  players: 0,\n  city_id: 0,\n  active_players: 1,\n  date: null,\n  additional: null,\n  loading: false,\n  fieldNumbersInGame: [],\n});\n\nconst defaultState = new GameRecord();\n\nexport default (gameState = defaultState, action: any) => {\n  const {type, payload} = action;\n  switch (type) {\n    case LOAD_GAME + START:\n      return gameState.set('loading', true)\n    case LOAD_GAME + SUCCESS:\n      return gameState.merge(payload.data).set('loading', false)\n    case PLAYER_JOINED:\n      const {gameId, activePlayers, info} = payload\n      if (gameState.get('id') === gameId) {\n        if (info.event === 'joined') {\n          return joinGame(gameState, info)\n        }\n        if (info.event === 'leaved') {\n          return leaveGame(gameState, info)\n        }\n        return gameState\n            .set('active_players', activePlayers)\n            .set('fieldNumbersInGame', info.fieldNumbersInGame)\n      }\n      return gameState;\n    default:\n      return gameState;\n  }\n};\n\n/**\n * @param {object} gameState\n * @param {number} playerFieldNumber\n * @return {object}\n */\nfunction leaveGame(gameState: any, {fieldNumbersInGame}: any) {\n  return gameState.set('fieldNumbersInGame', fieldNumbersInGame);\n}\n/**\n * @param {object} gameState\n * @param {number} playerFieldNumber\n * @return {*}\n */\nfunction joinGame(gameState: any, {fieldNumbersInGame}: any) {\n  return gameState.set('fieldNumbersInGame', fieldNumbersInGame)\n}\n","// @ts-nocheck\nimport {OrderedMap, Record} from 'immutable';\nimport {GAME_CHAT_MESSAGE_ADDED, GAME_CHAT_MESSAGE_HISTORY} from '../constants';\nimport {arrToMap} from '../helpers/helpers';\n\nconst ReducerState = Record({\n  loading: false,\n  entities: new OrderedMap({}),\n});\n\nconst MessageRecord = Record({\n  id: null,\n  text: null,\n  username: null,\n  date: null,\n});\n\nconst defaultState = new ReducerState();\n\nexport default (gameChatState = defaultState, action) => {\n  const {type, payload} = action;\n  switch (type) {\n    case GAME_CHAT_MESSAGE_HISTORY:\n      return gameChatState.update('entities', (entities) => {\n        return arrToMap(payload, MessageRecord);\n      });\n    case GAME_CHAT_MESSAGE_ADDED:\n      const messages = gameChatState.setIn(\n          ['entities', payload.id],\n          new MessageRecord(payload));\n      return messages.update('entities', (entities)=> {\n        return messages.entities.sortBy((it)=>it.get('date')).reverse();\n      });\n    default:\n      return gameChatState;\n  }\n};\n\n","// @ts-nocheck\nimport {LOADING, LOADED} from '../constants'\nimport {Record} from 'immutable'\n\nconst initialState = new Record({\n    loading: false,\n    loaded: false\n})();\n\nexport default (state = initialState, action) => {\n    console.log('TYPE ----', action.type)\n    switch (action.type) {\n        case LOADING:\n            console.log('loading !!!!')\n            return state.set('loading', true).set('loaded', false)\n        case LOADED:\n            return state.set('loading', false).set('loaded', true)\n        default:\n            return state\n    }\n};\n","import {combineReducers} from 'redux';\nimport auth from './auth';\nimport location from './location';\nimport games from './games';\nimport game from './game';\nimport gameChat from './game-chat';\nimport loader from './loader'\nexport default combineReducers({\n  auth, location, games, game, gameChat, loader\n});\n","import {createStore, applyMiddleware} from 'redux';\nimport thunk from 'redux-thunk';\nimport reducer from '../reducer';\nimport {composeWithDevTools} from 'redux-devtools-extension';\nimport api from '../middlewares/api';\n\nconst store = createStore(\n    reducer,\n    composeWithDevTools(applyMiddleware(thunk, api))\n);\nexport default store;\n","import {START, SUCCESS, FAIL} from '../constants'\nimport axios from '../libs/axios'\n\nexport default (store: any) => (next: any) => (action: any) => {\n  const {callApi, type, ...rest} = action\n  if (!callApi) return next(action)\n\n  next({\n    ...rest,\n    type: type + START,\n  });\n  return axios.get(callApi).then(\n      (response) => {\n        next({...rest, type: type + SUCCESS, payload:\n            {...response, store: store.getState()}})\n      },\n      (error) => {\n        next({...rest, type: type + FAIL, error})\n      }\n  );\n};\n","import axios from 'axios'\nimport {setCurrentUser} from '../ac/auth'\nimport store from '../store'\naxios.defaults.baseURL = '/api'\naxios.interceptors.response.use((response) => {\n    return response\n}, (error) => {\n    if (error.response.status === 403) {\n        store.dispatch(setCurrentUser({}))\n    }\n    return Promise.reject(error)\n})\nexport default axios\n","import {SET_CURRENT_USER} from '../constants'\nimport axios from '../libs/axios'\n\nexport function setCurrentUser(user: any) {\n  return {\n    type: SET_CURRENT_USER,\n    user,\n  }\n}\nexport function checkIfLogged() {\n  return async (dispatch: any) => {\n    let response;\n    try {\n      response = await axios.get(`/auth/ping`);\n    } catch (e) {\n      if (e.message.indexOf('code 401') !== -1) {\n        dispatch(setCurrentUser(null))\n      }\n      response = e.message\n    }\n    return response\n  }\n}\nexport function setCurUsr(usr:any) {\n  return (dispatch: any) => {\n    console.log('usr', usr)\n    dispatch(setCurrentUser(usr))\n  }\n}\nexport function login(credentials: any): any {\n  return async (dispatch: any) => {\n    try {\n      const response = await axios.post(`/auth/login`, credentials)\n      dispatch(setCurrentUser(response.data))\n      return {...response.data, status: response.status}\n    } catch (e) {\n      return e.response\n    }\n  }\n}\n\nexport function forgotPassword(email: string) {\n  return async (dispatch: any) => {\n    try{\n      const response = await axios.post(`/auth/forgot-password`, {email})\n      return {...response.data, status: response.status}\n    } catch (e) {\n      return e.response\n    }\n  }\n}\n\nexport function changePassword(password: string) {\n  return async (dispatch: any) => {\n    try {\n      const response = await axios.post(`/auth/change-password`, {password})\n      return {...response.data, status: response.status}\n    } catch (e) {\n      return e.response\n    }\n  }\n}\nexport function registration(user: any) {\n  return (dispatch: any) => {\n    return new Promise((resolve, reject)=> {\n      axios\n          .post(`/auth/registration`, user)\n          .then((res) => {\n            resolve(res)\n          })\n          .catch((err) => {\n            console.log(err.response.data)\n            dispatch(setCurrentUser({}))\n            reject(err.response)\n          });\n    });\n  };\n}\n\nexport function logout() {\n  return async (dispatch: any) => {\n    await axios.post(`/auth/logout`, {})\n    localStorage.removeItem('user')\n    dispatch(setCurrentUser({}))\n  };\n}\n\nexport function setUser(user: any) {\n  console.log(`set user`)\n  return (dispatch: any) => {\n    dispatch(setCurrentUser(user))\n  };\n}\n","import * as React from 'react'\nimport './login-widget.scss'\nimport {Link} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport {logout, setCurUsr} from '../../../ac/auth'\nimport Locales from \"../../locales\"\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faUser, faSignInAlt} from \"@fortawesome/free-solid-svg-icons\";\nimport * as tr from \"react-i18next\";\nimport { Base64 } from 'js-base64'\ninterface Props {\n    auth: any,\n    logout: any,\n    t: any,\n    setCurUsr: any\n}\n\nclass LoginWidget extends React.Component<Props> {\n\n    componentDidMount(): void {\n        console.log('componentDidMount LOGIN WIDGET111')\n        console.log(Base64)\n        let user;\n        if (window && window.location.hash) {\n            user = JSON.parse(Base64.decode(window.location.hash))\n            console.log(user)\n            localStorage.setItem('user', JSON.stringify(user))\n            document.location.href=\"/\";\n            return user\n        } else {\n            try {\n                user = JSON.parse(localStorage.user)\n            } catch (e) {\n                user = null\n            }\n        }\n        const {setCurUsr} = this.props;\n        console.log(user)\n        setCurUsr(user);\n        return;\n    }\n\n    render() {\n    const {auth, logout, t} = this.props\n\n    return (\n      <div className=\"absolute-login-widget\">\n          <div>\n              {auth.isAuthenticated ? auth.user.name: ''}\n              {/*<FontAwesomeIcon icon={faUser} className='user-icon'/>*/}\n              { auth.isAuthenticated ? <a onClick={logout} href='#' className='sign-out'>\n                  <FontAwesomeIcon icon={faSignInAlt}/>\n              </a> :\n              <Link to=\"/login\" className='sign-out'>\n                  {t('')} <FontAwesomeIcon icon={faSignInAlt}/>\n              </Link>}\n          </div>\n      </div>\n    );\n\n    // return auth.isAuthenticated ? (\n    //   <div className=\"absolute-login-widget\">\n    //       <div>\n    //           {auth.user.name}\n    //       </div>\n    //       <FontAwesomeIcon icon={faUser}/>\n    //       <Link to=\"/logout\">\n    //           <FontAwesomeIcon icon={faSignInAlt}/>\n    //       </Link>\n    //       <i onClick={logout} className=\"fas fa-sign-out-alt\"/>\n    //   </div>\n    // ) : (\n    //   <div className=\"absolute-login-widget\">\n    //     <div>\n    //         <FontAwesomeIcon icon={faUser}/>\n    //         <Link to=\"/login\">\n    //             <FontAwesomeIcon icon={faSignInAlt}/>\n    //         </Link>\n    //     </div>\n    //   </div>\n    // )\n  }\n}\n\n\nexport default connect((state: any) => {\n  return {\n    auth: state.auth,\n  };\n    // @ts-ignore\n}, {logout, setCurUsr})(tr.withNamespaces()(LoginWidget))\n","import LoginWidget from './login-widget';\nexport default LoginWidget;\n","import * as React from 'react';\nimport LoginWidget from './login-widget';\nimport {Link} from 'react-router-dom';\nimport './header.scss';\nimport * as translate from \"react-i18next\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\nimport { faGlobe } from '@fortawesome/free-solid-svg-icons'\ninterface Props {\n  t:any\n}\nclass Header extends React.Component<Props> {\n  componentDidMount(): void {\n    console.log(\"HEADER MOUNT\")\n  }\n\n  state = {mobileMenuShowed: false}\n  toggleMenu() {\n    this.setState({mobileMenuShowed: !this.state.mobileMenuShowed})\n  }\n  hideMenu() {\n    this.setState({mobileMenuShowed: false})\n  }\n  /**\n   * Render app general header\n   * @return {string} - HTML markup for the component\n   */\n  render() {\n    const {t} = this.props\n    return (\n      <nav className=\"main-menu\">\n        <div className=\"container\">\n          <div className='mobile-only'>\n             <div className='mobile-menu'>\n              <FontAwesomeIcon onClick={this.toggleMenu.bind(this)} icon={faBars} size='2x'/>\n               {this.state.mobileMenuShowed && <div className='mobile-menu-items'>\n                <ul className='shadow-2'>\n                  <li onClick={this.hideMenu.bind(this)}><Link to=\"/\"\n                  >{t('')}</Link></li>\n                  <li onClick={this.hideMenu.bind(this)}><Link to=\"/about\"\n                  >{t(' ')}</Link></li>\n                  <li onClick={this.hideMenu.bind(this)}><Link to=\"/create-game\"\n                  >{t(' ')}</Link></li>\n                  <li onClick={this.hideMenu.bind(this)}>\n                    <Link to=\"/rules-mini-football\">{t('-')}</Link>\n                  </li>\n                </ul>\n              </div>}\n            </div>\n          </div>\n          <ul id=\"main-menu-ul\" className='desktop-only'>\n            <li className={\n              window.location.pathname === '/' ? 'active' : ''\n            }>\n              <Link to=\"/\">{t('')}</Link>\n            </li>\n            <li onClick={this.hideMenu.bind(this)} className={window.location.pathname === '/about' ? 'active' : ''}>\n              <Link to=\"/about\">{t(' ')}</Link></li>\n            <li className={window.location.pathname === '/create-game' ? 'active' : ''}>\n              <Link to=\"/create-game\">{t(' ')}</Link>\n            </li>\n            <li className={window.location.pathname === '/rules-mini-football' ? 'active' : ''}>\n              <Link to=\"/rules-mini-football\">{t('-')}</Link>\n            </li>\n          </ul>\n          <LoginWidget/>\n        </div>\n      </nav>\n    );\n  }\n}\n\n// @ts-ignore\nexport default translate.withNamespaces()(Header);\n","import Header from './header';\nexport default Header;\n","import * as React from 'react'\nimport './set-city-item.scss'\nimport {connect} from 'react-redux'\n\ninterface Props {\n  name?: string,\n  country?: string,\n  region?: string,\n  doChoice: any,\n  id: number,\n}\n\n/**\n * Item for autocomplete list\n */\nclass SetCityItem extends React.Component<Props> {\n  /**\n   * @return {string} html\n   */\n  render() {\n    const {name, country, id, doChoice} = this.props;\n    return (\n      <div className=\"city-item\" onClick={\n        () => {\n          doChoice({name: name, country: country, id: id})\n        }}>\n        { this.composeAddress(this.props.name) }\n        <small>{ this.composeAddress(this.props.region, ', ') }</small>\n        <small>{ this.composeAddress(this.props.country, ', ') }</small>\n      </div>\n    )\n  }\n\n  /**\n   * @param {string} value\n   * @param {string} delimiter\n   * @return {*}\n   */\n  composeAddress(value: any, delimiter = '') {\n    if (!value) return ''\n    return <span>{delimiter + value}</span>\n  }\n}\n\nexport default connect(\n    (state: {location: any}) => {\n      return {\n        location: state.location,\n      }\n    }, null\n)(SetCityItem)\n","import SetCityItem from './set-city-item';\nexport default SetCityItem;\n","import * as React from 'react'\n\nconst {\n  Provider: CityServiceProvider,\n  Consumer: CityServiceConsumer,\n} = React.createContext(null)\n\nexport {CityServiceConsumer, CityServiceProvider}\n","import * as React from 'react'\nimport {CityServiceConsumer} from '../context/city-service-context'\n\nconst withCityService = (WrappedComponent: any) => {\n  return function WithCityService(props: any) {\n    return (\n      <CityServiceConsumer>\n        {(cityService) => {\n          return <WrappedComponent {...props} cityService={cityService} />\n        }}\n      </CityServiceConsumer>\n    )\n  }\n}\nexport default withCityService\n","import * as React from 'react';\n\nconst {\n  Provider: GameServiceProvider,\n  Consumer: GameServiceConsumer,\n} = React.createContext(null);\n\nexport {GameServiceProvider, GameServiceConsumer};\n","import * as React from 'react'\nimport {GameServiceConsumer} from '../context/game-service-context'\n\nconst withGameService = (WrappedComponent: any) => {\n  return function WithGameService(props: any) {\n    return (\n      <GameServiceConsumer>\n        {(gameService) => {\n          return <WrappedComponent {...props} gameService={gameService} />\n        }}\n      </GameServiceConsumer>\n    )\n  }\n}\nexport default withGameService\n","import * as React from 'react';\nimport { connect } from 'react-redux';\ninterface Props {\n  isAuthenticated: any,\n  history: any,\n}\nexport default (OriginalComponent:any) => {\n  class MixedComponent extends React.Component<Props> {\n\n    checkAuth() {\n      if (!this.props.isAuthenticated) {\n        this.props.history.push('/');\n      }\n    }\n\n    componentDidMount() {\n      this.checkAuth();\n    }\n\n    componentDidUpdate() {\n      this.checkAuth();\n    }\n\n    render() {\n      return <OriginalComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: {auth: Props}) {\n    return {\n      isAuthenticated: state.auth.isAuthenticated,\n    }\n  }\n\n  return connect(mapStateToProps)(MixedComponent);\n};\n\n\n","import CityPicker from './city-picker';\nexport default CityPicker;\n","import * as React from 'react'\nimport SetCityItem from './set-city-item'\nimport './city-picker.scss'\nimport {withCityService} from '../../../HOCs'\ninterface Props {\n  doChoice: any;\n  city: string;\n  cityService: any;\n}\n\n/**\n * Input which select city\n */\nclass CityPicker extends React.Component<Props> {\n  state = {\n    cities: [],\n    city: '',\n    loading: null,\n  };\n\n  handleChange = async (event: any) => {\n    const city = event.target.value;\n    this.setState({city});\n    const {cityService} = this.props;\n    if (city.length > 2) {\n      this.setState({loading: true});\n      const cities = await cityService.getCities(city);\n      console.log(cities)\n      this.setState({loading: false});\n      this.setState({cities});\n    }\n  }\n\n  pickerDoChoice = (city: any) => {\n    this.setState({cities: [],city: city.name})\n    return this.props.doChoice(city);\n  };\n\n  render() {\n    return (\n      <div className=\"city-auto-complete\">\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          autoComplete=\"off\"\n          placeholder=\"\"\n          onChange={this.handleChange}\n        />\n        {this.state.loading && <div className=\"lds-hourglass\"/>}\n        {this.state.cities.length ? (\n          <div className=\"list\">\n            {this.state.cities.map((city: {id: number}) => {\n              return (\n                <SetCityItem\n                  key={city.id}\n                  {...city}\n                  doChoice={this.pickerDoChoice}\n                />\n              )\n            })}\n          </div>\n        ) : null}\n      </div>\n    )\n  }\n}\n\nexport default withCityService(CityPicker)\n","import * as React from 'react'\nimport './error-message.scss'\n\nfunction ErrorMessage(props: any) {\n  return props.message ? (\n      <div className=\"common-error-message\">{props.message}</div>\n  ) : null\n}\nexport default ErrorMessage\n","import ErrorMessage from './error-message';\nexport default ErrorMessage;\n","import * as React from 'react'\nimport 'date-fns';\n\nimport Grid from '@material-ui/core/Grid';\nimport './customDatePickerWidth.scss'\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardTimePicker,\n  DatePicker,\n  TimePicker,\n  KeyboardDatePicker,\n} from '@material-ui/pickers'\nimport MomentUtils from \"@date-io/moment\";\nimport \"moment/locale/ru\"\nimport './date-time.scss'\nimport green from '@material-ui/core/colors/green'\nimport {MuiThemeProvider, createMuiTheme} from '@material-ui/core'\nimport * as tr from \"react-i18next\";\ninterface Props {\n  onChange: any,\n  value: any,\n  t: any\n}\nconst materialTheme = createMuiTheme({\n    palette: {\n        primary: green\n    },\n});\n\nclass DateTimeComponent extends React.Component<Props> {\n  handleDateChange = (e: any) => {\n    const {onChange}: any = this.props\n    onChange(e)\n  }\n\n  render() {\n    const {t} = this.props\n    return (\n        <div className=\"date\">\n            <MuiThemeProvider theme={materialTheme}>\n                <MuiPickersUtilsProvider locale=\"ru\" utils={MomentUtils}>\n                    <Grid container justify=\"space-around\">\n                        <div className={'customDatePickerWidth'}>\n                        <DatePicker\n\n                            // variant=\"inline\"\n                            margin=\"normal\"\n                            id=\"date-picker-inline\"\n                            label={t('')}\n                            cancelLabel=\"\"\n                            okLabel=\"\"\n                            value={this.props.value}\n                            onChange={this.handleDateChange}\n                            // KeyboardButtonProps={{\n                            //     'aria-label': 'change date',\n                            // }}\n                        />\n                        </div>\n                        <div className={'customDatePickerWidth'}>\n                        <TimePicker\n                         //   disableToolbar\n                            margin=\"normal\"\n                            id=\"time-picker\"\n                            label={t('')}\n                            ampm={false}\n                            cancelLabel=\"\"\n                            okLabel=\"\"\n                            value={this.props.value}\n                            onChange={this.handleDateChange}\n                            // KeyboardButtonProps={{\n                            //     'aria-label': 'change time',\n                            // }}\n                        />\n                        </div>\n                    </Grid>\n                </MuiPickersUtilsProvider>\n            </MuiThemeProvider>\n        </div>\n    )\n  }\n}\n\n\n// @ts-ignore\nexport default tr.withNamespaces()(DateTimeComponent)\n","import DateTimeComponent from './date-time';\nexport default DateTimeComponent;\n","import {LOAD_GAMES, SET_CITY, SUCCESS} from '../constants';\nimport {loadGames} from './games';\n/**\n * Set city action\n * @return {{payload: *, type: string}}\n */\nexport function setCity(city: any) {\n  if (!city) {\n    return (dispatch: any) => {\n      localStorage.setItem('location', '')\n      dispatch({type: LOAD_GAMES+SUCCESS, payload: {data: null}})\n      dispatch({\n        type: SET_CITY,\n        payload: city,\n      })\n    }\n  }\n  return (dispatch: any) => {\n    localStorage.setItem('location', JSON.stringify(city))\n    dispatch(loadGames(city))\n    dispatch({type: SET_CITY, payload: city})\n  }\n}\n","import {LOAD_GAMES, GAME_ADDED, LOAD_GAME, PLAYER_JOINED, GAME_CHAT_MESSAGE_HISTORY, GAME_CHAT_MESSAGE_ADDED} from '../constants'\nimport {ICallApiAc, ICommonAc} from './IAc'\n\n\nexport function loadGames(city: any): ICallApiAc {\n  return {\n    type: LOAD_GAMES,\n    callApi: `/game/city/${city.id}`,\n  };\n}\n\nexport function loadGame(id: number): ICallApiAc {\n  return {\n    type: LOAD_GAME,\n    callApi: `/game/${id}`,\n  };\n}\n\nexport function gameAdded(id: number): ICallApiAc {\n  return {\n    type: GAME_ADDED,\n    callApi: `/game/${id}`,\n  };\n}\n\nexport function playerJoined(\n    gameId: number,\n    activePlayers: number,\n    info: any): ICommonAc {\n  return {\n    type: PLAYER_JOINED,\n    payload: {gameId, activePlayers, info},\n  };\n}\n\nexport function addChatMessage(message: any) {\n  return {\n    type: GAME_CHAT_MESSAGE_ADDED,\n    payload: message,\n  };\n}\n\nexport function loadChatHistory(messages: any) {\n  return {\n    type: GAME_CHAT_MESSAGE_HISTORY,\n    payload: messages,\n  };\n}\n","import {LOADING, LOADED} from \"../constants\";\n\nexport function loading() {\n    console.log('ac loading')\n    return {\n        type: LOADING,\n    }\n}\nexport function loaded() {\n    console.log('ac loaded')\n    return {\n        type: LOADED,\n    }\n}\n","import * as React from 'react'\nimport './create-game.scss'\nimport CityPicker from '../../components/common/city-picker'\nimport ErrorMessage from '../../components/common/messages/error-message'\nimport _ from 'lodash'\nimport {withGameService} from '../../HOCs'\nimport GamesList from '../games-list'\nimport {connect} from 'react-redux'\nimport DateTimeComponent from '../../components/common/date-time'\nimport SetCityWidget from '../../components/common/set-city-widget'\nimport {setCity} from '../../ac/location'\nimport {setUser} from '../../ac/auth'\nimport * as moment from 'moment'\nimport {loading, loaded} from \"../../ac/loader\";\nimport {JSX} from \"@babel/types\";\nimport * as tr from \"react-i18next\";\nimport { Redirect } from 'react-router-dom'\n\nmoment.locale('ru')\n\nconst initialState = {\n  data: {\n    city: '',\n    city_id: '',\n    address: '',\n    additional: '',\n    players: 6,\n    date: moment.now(), // (new Date().setHours(new Date().getHours() + 4)),\n    district: '',\n  },\n  errors: {},\n}\n\ninterface Props {\n  gameService: any,\n  auth: any,\n  location: any,\n  setCity: any,\n  setUser: any,\n  match: any,\n  history: any,\n  loading:any,\n  loaded: any,\n  t: any\n}\n\nclass CreateGame extends React.Component<Props> {\n  state: {data: any, errors: any}\n\n  constructor(props: any) {\n    super(props)\n    CreateGame.setMeta()\n    this.state = initialState\n  }\n  static setMeta() {\n    document.title = 'Football for everyone'\n  }\n\n  setCity = (city: {name: string, id: number, country: string}) => {\n    this.setState({\n      data: {...this.state.data, city: city.name, city_id: city.id},\n    })\n  }\n\n  resetCity = () => {\n    this.setState({data: {...this.state.data, city: ''}})\n  }\n\n  onChange = (e: any):any => {\n    this.setState({\n      data: {...this.state.data, [e.target.name]: e.target.value},\n    });\n  };\n\n  validate = (data: any) => {\n    const errors:any = {}\n    for (const i in data) {\n      if (['players', 'lat', 'long', 'additional'].indexOf(i) !== -1) {\n        continue;\n      }\n      if (!data[i]) errors[i] = `   `;\n    }\n    return errors\n  };\n\n  changeDate = (e: any) => {\n    this.setState({\n      data: {\n        ...this.state.data,\n        date: e,\n      },\n    });\n  };\n\n  checkIfAllowedCreate() {\n    const {auth, t} = this.props\n    if (!auth.isAuthenticated) {\n      alert(t('   '))\n    }\n    return auth.isAuthenticated;\n  }\n\n  initCity(data: {city: string, city_id: number}) {\n    const {setCity} = this.props\n    setCity({name: data.city, id: data.city_id});\n  }\n\n  static printFieldPlayersOptionList(): JSX.Element[] {\n    const out = [];\n    for(let i = 6; i<23; i++) { out.push(i) }\n    return out.map((it:number) => <option key={it}>{it}</option>)\n  }\n\n  onSubmit = async (e: any) => {\n    e.preventDefault()\n\n    const {data} = this.state;\n    if (!this.checkIfAllowedCreate()) {\n      return\n    }\n    this.initCity(data)\n    const errors = this.validate(data);\n    this.setState({\n      errors,\n    });\n    if (_.isEmpty(errors)) {\n      const {gameService, loading, loaded} = this.props;\n      try {\n        loading()\n        const res = await gameService.add(data)\n        if (res.status === 201) {\n          this.setState(initialState)\n          console.log('red')\n          this.props.history.push(`/`)\n        }\n      } finally {\n        loaded()\n      }\n    }\n  };\n\n  render() {\n\n    const {data, errors} = this.state\n    const {t} = this.props\n    return (\n      <div className=\"row main-content\">\n        <div className=\"left-col create-game-left-col\">\n          <form className={'game-form' } onSubmit={this.onSubmit}>\n            <fieldset>\n              <legend>{t(' ')}</legend>\n              <div className=\"form-group\" id=\"gameCitySection\">\n                <label>{t('')}</label>\n                {!this.state.data.city &&\n                <CityPicker\n                  doChoice={this.setCity}\n                  city={this.state.data.city}\n                />}\n                {\n                  this.state.data.city &&\n                  <div className={'success-panel'}>{this.state.data.city}\n                    <span onClick={this.resetCity}></span>\n                  </div>\n                }\n                {errors.city && <ErrorMessage message={errors.city} />}\n              </div>\n              <div className=\"form-group\">\n                <label>{t('')}</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"district\"\n                  value={data.district}\n                  onChange={this.onChange}\n                />\n                {errors.district && <ErrorMessage message={errors.district} />}\n              </div>\n              <div className=\"form-group\">\n                <label>{t('')}</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"address\"\n                  value={data.address}\n                  onChange={this.onChange}\n                />\n                {errors.address && <ErrorMessage message={errors.address} />}\n              </div>\n              <div className=\"form-group date\">\n                <DateTimeComponent\n                  // @ts-ignore\n                  onChange={this.changeDate}\n                  value={data.date}/>\n                {errors.date && <ErrorMessage message={errors.date} />}\n              </div>\n              <div className=\"form-group\">\n                <label>{t(' ')}</label>\n                <select\n                  className=\"form-control col-2\"\n                  onChange={this.onChange}\n                  value={data.players}\n                  name=\"players\"\n                >\n                  {CreateGame.printFieldPlayersOptionList()}\n                </select>\n                {errors.players && <ErrorMessage message={errors.players} />}\n              </div>\n            </fieldset>\n            <div className=\"form-group\">\n              <label>{t('')}</label>\n              <textarea\n                className=\"form-control\"\n                name=\"additional\"\n                value={data.additional}\n                onChange={this.onChange}\n              />\n              {errors.additional && (\n                <ErrorMessage message={errors.additional} />\n              )}\n            </div>\n            <div className=\"form-group\">\n              <button type=\"submit\" className=\"btn submit-btn shadow-0\">\n                {t('')}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\n\nexport default connect(\n    (state: {location: any, game: any, auth: any}) => {\n      return {\n        location: state.location,\n        games: state.game,\n        auth: state.auth,\n      };\n    },\n    {setCity, setUser, loading, loaded}\n    // @ts-ignore\n)(withGameService(tr.withNamespaces()(CreateGame)))\n","import CreateGame from './create-game'\nexport default CreateGame\n","import * as React from 'react'\nimport './forgot-password.scss'\nimport {connect} from 'react-redux'\nimport {forgotPassword} from '../../../ac/auth'\nimport Validator from 'validator'\nimport ErrorMessage from '../../../components/common/messages/error-message'\nimport _ from 'lodash'\n\nclass ForgotPassword extends React.Component<any> {\n    state = {\n        data: {\n            email: ''\n        },\n        loading: false,\n        backendErrors: [],\n        errors: {email: null},\n    }\n\n    onChange = (e: any) => {\n        this.setState({data: {...this.state.data, [e.target.name]: e.target.value}})\n    }\n    static validate(data: any) {\n        const errors = {email: ''}\n        if(data.email && !Validator.isEmail(data.email)) errors.email = '  '\n        if(!data.email) errors.email = '   '\n        return errors\n    }\n    submit = async (e: any) => {\n        const {forgotPassword} = this.props\n        e.preventDefault()\n        const errors = ForgotPassword.validate(this.state.data)\n        if(!_.isEmpty(errors.email)) {\n            this.setState({errors})\n            return\n        }\n        await forgotPassword(this.state.data.email)\n        window.location.href = '/'\n\n    }\n    render() {\n        const {email} = this.state.data\n        return(\n            <div>\n                <form className=\"col-12 col-md-6 col-lg-6 col-xl-6 login-form\" onSubmit={this.submit}>\n                    <div className=\"form-group\">\n                        {this.state.errors.email && (\n                            <ErrorMessage message={this.state.errors.email} />\n                        )}\n                        <label>Email</label>\n                        <input value={email} name={'email'} onChange={this.onChange} className=\"form-control\" type=\"text\"/>\n                    </div>\n                    <p>\n                        <button type=\"submit\" className=\"btn submit-btn mb-2\"></button>\n                    </p>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default connect(null, {forgotPassword})(ForgotPassword)\n","import ForgotPassword from './forgot-password'\nexport default ForgotPassword\n","import './style.scss';\nimport * as React from 'react';\nimport * as translator from \"react-i18next\";\nconst link = `/api/auth/google`;\n\nfunction SingInGoogle({t}:any) {\n    return (\n        <a href={link}><div className='loginWithGoogle'>\n            <img width=\"20px\" alt=\"Google sign-in\"\n                                src=\"/img/Google__G__Logo.svg.webp\"/>{t('')} {t('')} google\n        </div></a>\n        )\n}\n\n// @ts-ignore\nexport default translator.withNamespaces()(SingInGoogle);\n","import * as React from 'react'\nimport './login.scss'\nimport Validator from 'validator'\nimport ErrorMessage from '../../../components/common/messages/error-message'\nimport {connect} from 'react-redux'\nimport {login} from '../../../ac/auth'\nimport {Link} from 'react-router-dom'\nimport {loaded, loading} from \"../../../ac/loader\";\nimport SingInGoogle from './oauth/google'\nimport * as translator from \"react-i18next\";\ninterface Props {history: any, login: any, loading: any, loaded: any, t: any}\n\nclass Login extends React.Component<Props> {\n\n  state = {\n    data: {email: '', password: ''},\n    loading: false,\n    backendErrors: [],\n    errors: {email: null, password: null},\n  }\n\n  goToRegister = (e: any) => {\n    e.preventDefault()\n    window.location.href = '/registration'\n  }\n\n  onChange = (e: any) => {\n    this.setState({data: {...this.state.data, [e.target.name]: e.target.value}})\n  }\n\n  handleErrors(status: number){\n    if(status < 300) {\n      this.props.history.push('/')\n      return\n    } else {\n      switch (status) {\n        case 401:\n          this.setState({backendErrors: ['   ']})\n          break\n        case 403:\n          this.setState({backendErrors: ['   ']})\n          break\n        default:\n          this.setState({backendErrors: ['  ,   ']})\n      }\n    }\n  }\n\n  submit = async (e: any) => {\n    const {login, loading, loaded} = this.props\n    const {data} = this.state\n    e.preventDefault()\n    const errors = this.validate(data)\n    this.setState({errors})\n    if (!errors.email && !errors.password) {\n      try {\n        loading()\n        const res = await login(data)\n        this.handleErrors(res.status)\n      } finally {\n        loaded()\n      }\n    }\n  }\n\n  validate = (data: any) => {\n    const errors: {password: any, email: any} = {password: null, email: null}\n    if (!data.password) errors.password = `   `\n    if (!data.email) errors.email = `   `\n    if (!Validator.isEmail(data.email)) errors.email = `  `\n    return errors\n  }\n\n  render() {\n    const {t} = this.props\n    const {data} = this.state;\n    return (\n      <div>\n        <form className=\"col-md-6 login-form\" onSubmit={this.submit}>\n          {\n            this.state.backendErrors.map((it) =>\n              <ErrorMessage key={it} message={it}/>)}\n          <div className=\"form-group\">\n            <label>E-mail {t('')}</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              placeholder=\"example@gmail.com\"\n              value={data.email}\n              onChange={this.onChange}\n              className=\"form-control\"\n            />\n            {this.state.errors.email && (\n              <ErrorMessage message={this.state.errors.email} />\n            )}\n          </div>\n          <div className=\"form-group\">\n            <label></label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              value={data.password}\n              onChange={this.onChange}\n              className=\"form-control\"\n              placeholder=\"\"\n            />\n            {this.state.errors.password && (\n              <ErrorMessage message={this.state.errors.password} />\n            )}\n          </div>\n          <div className=\"form-group\">\n            <div className='forgot-password'>\n              <Link to=\"/forgot-password\">{t('')}  ?</Link>\n            </div>\n            <button type=\"submit\" className=\"btn submit-btn mb-2\">{t('')}</button>\n            &nbsp;\n            <button onClick={this.goToRegister} className=\"btn submit-btn mb-2\">{t('')}</button>\n            <br/>\n            <SingInGoogle/>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\n\nexport default connect(\n    (state: {auth: any}) => ({\n      auth: state.auth,\n    }), {login, loading, loaded}\n    // @ts-ignore\n)(translator.withNamespaces()(Login))\n","import Login from './login'\nexport default Login\n","import * as React from 'react'\nimport './game-info.scss'\nimport * as translator from \"react-i18next\";\n\nfunction GameInfo(props: any) {\n    const {game, t} = props\n    return (\n            <div className=\"game-info\">\n                <div>\n                    <div>{t('')}</div>\n                    <div>{game.city}</div>\n                </div>\n                <div>\n                    <div></div>\n                    <div>{game.district}</div>\n                </div>\n                <div>\n                    <div>{t('')}</div>\n                    <div>{game.address}</div>\n                </div>\n                <div>\n                    <div>{t('')}</div>\n                    <div>{game.players} ({game.active_players})</div>\n                </div>\n                {game.additional &&\n                <div>\n                    <div>{t('')}</div>\n                    <div>{game.additional}</div>\n                </div>\n                }\n            </div>)\n}\n\nexport default translator.withNamespaces()(GameInfo)\n","import GameInfo from './game-info'\nexport default GameInfo\n","import TeemsVsFlags from './teems-vs-flags';\nexport default TeemsVsFlags;\n","import * as React from 'react';\nimport './teems-vs-flags.scss';\n\n/**\n * Teem flags in game widget\n */\nclass TeemsVsFlags extends React.Component {\n  render() {\n    return (\n      <div className=\"teems-vs-flags\">\n        <div className=\"first-teem\">\n          <div>\n            <img alt='football-teem-first' src='/img/red-shirt.svg'/>\n          </div>\n        </div>\n        <div className=\"vs\"></div>\n        <div className=\"second-teem\">\n          <div>\n            <img alt='football-teem-second' src='/img/white-shirt.svg'/>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default TeemsVsFlags;\n","import ChatMessage from './chat-message';\nexport default ChatMessage;\n","import * as React from 'react';\nimport './chat-message.scss';\n\ninterface Props {\n    message: {text: string, username: string, date: any}\n}\n\n/**\n * One chat message\n */\nclass ChatMessage extends React.Component<Props> {\n  /**\n   * @return {JSX}\n   */\n  render() {\n    const {text, username, date} = this.props.message\n    return (\n      <li className=\"chatMessage\">\n        <div className=\"message-data\">\n          <span className=\"message-data-name\">{username}\n          </span>\n          <span className=\"message-data-time\">\n            {new Date(date).toISOString().slice(0, 16).replace('T', ' ')}\n          </span>\n        </div>\n        <div className=\"message my-message shadow-0\">{text}</div>\n      </li>\n    );\n  }\n}\n\nexport default ChatMessage\n","/* eslint-disable no-invalid-this */\nimport * as React from 'react';\nimport './chat.scss';\nimport ChatMessage from './chat-message';\nimport {connect} from 'react-redux';\nimport {addChatMessage, loadChatHistory} from '../../../ac/games';\nimport _ from 'lodash';\nimport {withGameService} from '../../../HOCs';\nimport * as tr from \"react-i18next\";\n\ninterface Props {\n  gameId: any,\n  addChatMessage: any,\n  loadChatHistory: any,\n  gameService: any,\n  gameChat: any,\n  t: any\n}\n\n/**\n * Game chat\n */\nclass Chat extends React.Component<Props> {\n  /**\n   * Init, handle socket messages\n   */\n  async componentDidMount() {\n    const {gameService, gameId} = this.props\n    await this.maintainSocketMessages(await gameService.initChat(gameId))\n    await gameService.getChatHistory(gameId)\n  }\n  componentWillUnmount(): void {\n    const {gameService} = this.props\n    gameService.destroyChat()\n  }\n\n  /**\n   * @param {object} socket\n   * @return {Promise<void>}\n   */\n  maintainSocketMessages = async (socket: any) => {\n    const {addChatMessage, loadChatHistory} = this.props;\n    socket.on('*', (message: any)=> {\n      console.log(message)\n      switch (message.data[0]) {\n        case 'GAME_CHAT_MESSAGE_HISTORY':\n          loadChatHistory(message.data[1])\n          break;\n        case 'GAME_CHAT_MESSAGE_ADDED':\n          addChatMessage(message.data[1])\n          break;\n        default:\n          break;\n      }\n    });\n  };\n  /**\n   * @type {{message: null}}\n   */\n  state = {\n    message: null,\n  };\n  /**\n   * Handle all simple text inputs\n   * @param {object} e\n   * @return {void}\n   */\n  onChange = (e: any) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n  /**\n   * @param {Event} e\n   */\n  sendMessage = async (e: any) => {\n    if (e.keyCode !== 13) {\n      return\n    }\n    if (e.target.value.trim() === '') {\n      return\n    }\n    await this.submit()\n  };\n  /**\n   * Submit chat message\n   */\n  async submit() {\n    // @ts-ignore\n    document.getElementById('message').value = null\n    const {gameService, gameId, t} = this.props;\n    const {message} = _.pick(this.state, ['message']);\n    if (!message) {\n      alert('    ');\n      return;\n    }\n    try {\n      await gameService.addChatMessage({\n        ..._.pick(this.state, ['message']),\n        gameId,\n      });\n      this.setState({\n        message: null,\n      });\n    } catch (error) {\n      if (error.response.status > 400 && error.response.status < 500) {\n        alert(t(',       '));\n      }\n    }\n  }\n\n  render() {\n    const {gameChat, t} = this.props;\n    return (\n      <div className=\"chat\">\n        <hr/>\n        <div className=\"form-group\">\n          <textarea\n            onChange={this.onChange}\n            className=\"form-control\"\n            name=\"message\"\n            id=\"message\"\n            onKeyUp={this.sendMessage}\n          />\n          <br/>\n          <button\n            className=\"btn submit-btn mb-2 shadow-0\"\n            onClick={this.submit.bind(this)}>{t(' ')}</button>\n        </div>\n        <form>\n          <ul>\n            {gameChat.entities.valueSeq().map(\n                (it: any) => {\n                  return <ChatMessage key={it.id} message={it} />\n                }\n            )}\n          </ul>\n        </form>\n      </div>\n    );\n  }\n}\n\n\nexport default connect((state: any) => {\n  return {\n    gameChat: state.gameChat,\n  };\n  // @ts-ignore\n}, {addChatMessage, loadChatHistory})(withGameService(tr.withNamespaces()(Chat)));\n","import Chat from './chat';\nexport default Chat;\n","  /* eslint-disable no-invalid-this */\nimport * as React from 'react'\n\nimport './field-player.scss'\nimport {withGameService} from '../../../HOCs'\nimport {connect} from 'react-redux'\nimport {loaded, loading} from \"../../../ac/loader\";\ninterface Props {\n  gameService: any,\n  game: any,\n  index: any,\n  gameRedux: any,\n  teem: any,\n  loading: any,\n  loaded: any\n}\n/**\n * Player ui on football field\n */\nclass FieldPlayer extends React.Component<Props> {\n  applyGame = () => {\n    const {gameService, game, index, loading, loaded} = this.props\n    loading()\n    gameService.joinGame(game.id, index).catch((e: any) => {\n      if (e.response.status > 400 && e.response.status < 500) {\n        alert(' ')\n      }\n    }).finally(loaded)\n  };\n  /**\n   * @return {JSX} html\n   */\n  render() {\n    const {teem, index, gameRedux} = this.props;\n    const isActive = gameRedux.fieldNumbersInGame\n      && gameRedux.fieldNumbersInGame.length > 0\n      && gameRedux.fieldNumbersInGame.indexOf(index) !== -1;\n    const activeShirt = '/img/'+teem+'-shirt.svg';\n    return (\n      <div className={'relative player'} onClick={this.applyGame}>\n        <div className={'number teem-' + (isActive ? teem: 'grey')}>{index}</div>\n        {isActive ?\n          <img className='shirt' alt={'active-shirt'} src={activeShirt}/>\n          : <img\n            alt={'grey-shirt'}\n            className={'t-shirt-grey shirt' + ' ' + teem}\n            src='/img/gray-shirt.svg' />}\n      </div>\n    );\n  }\n}\n\nexport default (withGameService)(\n    connect((state: any)=> {\n      return {\n        gameRedux: state.game,\n      };\n    }, {loading, loaded})(FieldPlayer)\n);\n","import FieldPlayer from './field-player';\nexport default FieldPlayer;\n","// @ts-nocheck\n/**\n * Football teem service\n */\nclass Teems {\n  players: any;\n  /**\n   * Get a random integer between `min` and `max`.\n   *\n   * @param {number} min - min number\n   * @param {number} max - max number\n   * @return {number} a random integer\n   */\n  randomInt = (min: number, max: number) =>\n    Math.floor(Math.random() * (max - min + 1) + min);\n  tacticOrders = {\n    2: [1, 1],\n    3: [1, 2],\n    4: [1, 2, 1],\n    5: [1, 3, 1],\n    6: [1, 3, 2],\n    7: [1, 3, 2, 1],\n    8: [1, 3, 3, 1],\n    9: [1, 3, 1, 3, 1],\n    10: [1, 3, 2, 3, 1],\n    11: [[1, 4, 4, 2], [1, 4, 3, 3]],\n  };\n  /**\n   * Init amount of players\n   * @param {number} players\n   */\n  constructor(players: any) {\n    if (isNaN(players) || players < 0) {\n      throw Error('Invalid parameter, should be number and > 0');\n    }\n    this.players = players\n  }\n  /**\n   * Calculate number of player for each teem\n   * @return {number[]}\n   */\n  splitOnTeems() {\n    if (this.players % 2) {\n      const oddPlayers = (this.players - 1) / 2;\n      return [oddPlayers + 1, oddPlayers];\n    } else {\n      const evenPlayers = this.players / 2;\n      return [evenPlayers, evenPlayers];\n    }\n  }\n\n  /**\n   * Form tactic orders\n   * @return {Array}\n   */\n  formGameOrder() {\n    const teems = this.splitOnTeems()\n    const orders = []\n    teems.forEach((it, index) => {\n      const order = Array.isArray(this.tacticOrders[it][0]) ?\n        this.tacticOrders[it][\n            this.randomInt(0, this.tacticOrders[it].length - 1)\n        ] : this.tacticOrders[it]\n      orders.push(order)\n    });\n    return orders\n  }\n}\n\nexport default Teems\n","import * as React from 'react'\nimport './football-field.scss'\nimport FieldPlayer from '../field-player'\nimport Teems from '../../../services/teems'\nimport {connect} from 'react-redux'\n\ninterface Props {\n  auth: any,\n  game: any\n}\n\nclass FootballField extends React.Component<Props> {\n  state = {\n    gameOrder: [],\n    players: 0,\n  };\n\n  static getDerivedStateFromProps(nextProps: any, prevState: any): {players: number; gameOrder: any} {\n    return ({\n      gameOrder: nextProps.game.players === prevState.players?\n        prevState.gameOrder:\n        new Teems(nextProps.game.players).formGameOrder(),\n      players: nextProps.game.players})\n  }\n\n  render() {\n    const {auth} = this.props;\n    let fieldClass = ` football-field `;\n    fieldClass += auth.isAuthenticated ? `active` : `regular`;\n    const {game} = this.props;\n    let total = game.players;\n    if (total < 15) {\n      fieldClass += ` mini-field`\n    }\n    return (\n        <div>\n          <div className=\"north-socket\">\n            <div className=\"cage\"/>\n          </div>\n          <div className={fieldClass}>\n            <div className='football-field-center'/>\n            <div className=\"left-top-corner\"/>\n            <div className=\"right-top-corner\"/>\n            <div className=\"center\">\n              <div className=\"point\"/>\n            </div>\n            <div className=\"left-bottom-corner\"/>\n            <div className=\"right-bottom-corner\"/>\n            {this.state.gameOrder.length > 0 && this.generateLines()}\n          </div>\n          <div className=\"south-socket\">\n            <div className=\"cage\"/>\n          </div>\n        </div>\n    );\n  }\n  /**\n   * Generate tactic lines on field, each line contains few players\n   */\n  generateLines() {\n    const lines = [];\n    const {game} = this.props;\n    let total = game.players;\n    const teemsOnField = [[], []];\n    let row = [];\n    let rowNum = 1;\n    this.state.gameOrder.forEach((it: any, index) => {\n      it.forEach((it: any)=> {\n        row = [];\n        for (let i = 1; i <= it && total > 0; i++) {\n          row.push(\n              <FieldPlayer\n                teem={index === 0 ? 'red' : 'white'}\n                key={i}\n                game={game}\n                index={total}\n                isActive={false}/>);\n          total--\n        }\n        teemsOnField[index].push(\n            <div key={rowNum++} className={'tactic-line '}>{row}</div>\n        )\n      })\n    });\n    lines.push(<div\n      key={'north-side'}\n      className={`half-field north-side lines-${teemsOnField[0].length}`}>\n        <div className=\"penalty-cage\"/>\n        <div className=\"penalty-cage-1\"/>\n        <div className=\"half-circle-wrapper\">\n          <div className=\"half-circle\"/>\n        </div>\n      {teemsOnField[0]}</div>);\n    lines.push(<div\n      key={'south-side'}\n      className={`half-field south-side lines-${teemsOnField[1].length}`}>\n      <div className=\"penalty-cage\"/>\n      <div className=\"penalty-cage-1\"/>\n      <div className=\"half-circle-wrapper\">\n        <div className=\"half-circle\"/>\n      </div>\n      {teemsOnField[1]}</div>);\n    return lines\n  }\n}\n\nexport default connect((state: any) => {\n  return {\n    auth: state.auth,\n  }\n})(FootballField)\n","import FootballField from './football-field';\nexport default FootballField;\n","import * as React from 'react'\nimport {withGameService} from '../../HOCs'\nimport {loadGame} from '../../ac/games'\nimport {connect} from 'react-redux'\n// import {library} from '@fortawesome/fontawesome-svg-core'\n// import {faFutbol} from '@fortawesome/free-solid-svg-icons'\nimport GameInfo from './game-info'\nimport TeemsVsFlags from './teems-vs-flags'\nimport Chat from './chat'\nimport './game.scss'\nimport FootballField from './football-field';\nimport { withNamespaces } from 'react-i18next';\n// library.add(faFutbol)\n\ninterface Props {\n  match: any,\n  loadGame: any,\n  game: any,\n  auth: any,\n  t: any\n}\n\nclass Game extends React.Component<Props> {\n  state = {\n    gameOrder: [],\n    players: 0,\n  }\n\n  componentDidMount() {\n    document.title = 'Football for everyone';\n    const { match: {params}, loadGame} = this.props;\n    const {id} = params;\n    loadGame(id);\n  }\n\n  render() {\n    const {game, auth, t} = this.props;\n    const {match: {params}} = this.props;\n    const {id} = params;\n    console.log(this.props.game.players)\n    return (\n      <div>\n        <div className=\"row game\">\n          <div className=\"left-col\">\n            <div>\n              <p>\n                {auth.isAuthenticated ? t('    ') : t(' ,     ')}\n              </p>\n            </div>\n            <div className=\"football-field-wrapper shadow-1\">\n              <div>\n                <FootballField game={game}/>\n              </div>\n            </div>\n          </div>\n          <div className='right-col'>\n              <div className='flags-info'>\n                <GameInfo game={game}/>\n                <TeemsVsFlags/>\n              </div>\n              <Chat gameId={id}/>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n    (state: any) => {\n      return {\n        game: state.game,\n        auth: state.auth,\n      };\n    },\n    // @ts-ignore\n    {loadGame})(withGameService(withNamespaces()(Game)));\n","import Game from './game';\nexport default Game;\n","import * as React from 'react';\nimport './quotes.scss';\nfunction getRand(min, max) {\n    return Math.floor(Math.random() * (max - min) + min);\n}\nclass Quote {\n    author: string;\n    text: string;\n    img: string;\n    constructor(author, text, img) {\n        this.author = author;\n        this.text = text;\n        this.img = img;\n    }\n}\nexport default class Quotes extends React.Component {\n    img = {\n        kroif: \"https://elasticbeanstalk-eu-north-1-242064348210.s3.eu-north-1.amazonaws.com/football/419+(1).jpg\"\n    }\n    public quotes: Array<Quote> = [];\n\n    public formQuotes() {\n        this.quotes.push(new Quote(\"\", \" .  ,   , \", \"https://elasticbeanstalk-eu-north-1-242064348210.s3.eu-north-1.amazonaws.com/football/5e64abae517d3_esxlfrxwkaoudoz+(1).jpeg\"))\n        this.quotes.push(new Quote(\" \", \"  ,   ,   ,      - ,     \", \"https://elasticbeanstalk-eu-north-1-242064348210.s3.eu-north-1.amazonaws.com/football/img007+(1).jpeg\"))\n        this.quotes.push(new Quote(\" \",\"    ,      \", this.img.kroif))\n        this.quotes.push(new Quote(\" \", \"    \", this.img.kroif))\n        this.quotes.push(new Quote(\"\", \"  ,  \", \"https://elasticbeanstalk-eu-north-1-242064348210.s3.eu-north-1.amazonaws.com/football/3a681064de04-1+(1).jpg\"))\n        this.quotes.push(new Quote(\" \", \"        \", \"https://elasticbeanstalk-eu-north-1-242064348210.s3.eu-north-1.amazonaws.com/football/ruec8ec6615e6-2.jpg\"))\n    }\n\n    render(): React.ReactNode {\n        this.formQuotes();\n        const randIndex = getRand(0, this.quotes.length);\n        const {author, text, img} = this.quotes[randIndex];\n        return (\n            <div className=\"quote-holder\">\n                <img src={img} alt=\"\"/>\n                <p>{text}</p>\n                <b>{author}</b>\n            </div>\n        )\n    }\n}","import Quotes from \"./quotes\";\nexport default Quotes","import * as React from 'react';\nimport './about.scss';\nimport * as translator from \"react-i18next\";\nimport Quotes from \"../quotes\";\ninterface Props {\n    t: any\n}\n/**\n * About page\n */\nclass About extends React.Component<Props> {\n\n  componentDidMount() {\n    About.setMeta();\n  }\n\n  /**\n   * @return {string} html\n   */\n  render() {\n    const {t} = this.props\n    return (\n        <div>\n            <h3>\n                <article>\n                    <i>\n                        {t('   ,        -      !         ,       .')}\n                        <span> </span>\n                        {t('  ,   ,       ')}\n                    </i>\n                </article>\n            </h3>\n            <article>\n                <Quotes/>\n            </article>\n        </div>\n    );\n  }\n\n  static setMeta() {\n    document.title = 'About';\n  }\n}\n\n// @ts-ignore\nexport default translator.withNamespaces()(About);\n","import About from './about';\nexport default About;\n\n","import * as React from 'react'\nimport './registration.scss'\nimport ErrorMessage from '../../../components/common/messages/error-message'\nimport Validator from 'validator'\n\nimport _ from 'lodash'\nimport {registration} from '../../../ac/auth'\nimport {connect} from 'react-redux'\nimport {loaded, loading} from \"../../../ac/loader\";\nimport * as tr from \"react-i18next\";\n\ninterface Props {\n  registration: any,\n  history: any,\n  loading:any,\n  loaded: any,\n  t: any\n}\n\n/**\n * Registration page\n */\nclass Registration extends React.Component<Props> {\n\n  state = {\n    data: {\n      email: '',\n      password: '',\n      name: '',\n      repeatPassword: '',\n    },\n    loading: false,\n    errors: {email: null, repeatPassword: null, password: null, name: null},\n    backendErrors: [],\n  }\n\n  /**\n   * Handle all simple text inputs\n   * @param {object} e\n   * @return {void}\n   */\n  onChange = (e: any) => {\n    this.setState({\n      data: {...this.state.data, [e.target.name]: e.target.value},\n    })\n  };\n\n  /**\n   * Form validation\n   * @return {object}\n   */\n  validate = (data: any) => {\n    const {t} = this.props\n    const errors : {\n      password: string | null,\n      email: string | null,\n      name: string | null,\n      repeatPassword: string | null\n    } = {password: null, email: null, name: null, repeatPassword: null}\n    if (!data.password) errors.password = t(`   `)\n    if (!data.email) errors.email = t(`   `)\n    if (!data.name) errors.name = t(`   `)\n    if (!data.password !== !data.repeatPassword) {\n      errors.repeatPassword = t(`  `)\n    }\n    if (!Validator.isEmail(data.email)) errors.email = t(`  `)\n    return errors\n  };\n\n  onSubmit = async (e: any) => {\n    const {t} = this.props\n    const {data} = this.state\n    e.preventDefault()\n    const errors: any = this.validate(data)\n    this.setState({errors})\n    for (const i in errors) {\n      if (errors[i]) {\n        return\n      }\n    }\n    const registrationData = _.pick(data, ['name', 'password', 'email'])\n    const { registration, loading, loaded } = this.props\n    try {\n      loading()\n      await registration(registrationData)\n      this.props.history.push(`/complete-registration`)\n    } catch (err) {\n      switch (err.status) {\n        case 403:\n          this.setState({backendErrors: [t('   ')]}\n          )\n          break\n        default:\n          this.setState({backendErrors: err.data.errors})\n      }\n    } finally {\n      loaded()\n    }\n  };\n\n  render() {\n    const {t} = this.props\n    const {data} = this.state;\n    return (\n      <form className=\"\n      col-12\n      col-md-12\n      col-sm-12\n      col-lg-6\n      col-xl-6\n      login-form\" onSubmit={this.onSubmit}>\n        {\n          this.state.backendErrors ? this.state.backendErrors.map(\n              (it) => <ErrorMessage key={it} message={it}/>) : null\n        }\n        <div className=\"form-group\">\n          <label></label>\n          <input\n            type=\"name\"\n            id=\"name\"\n            name=\"name\"\n            value={data.name}\n            placeholder={t('   ')}\n            onChange={this.onChange}\n            className=\"form-control\"\n          />\n          {this.state.errors.name && (\n            <ErrorMessage message={this.state.errors.name} />\n          )}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"exampleInputEmail1\">E-mail {t('')}</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n            placeholder=\"example@gmail.com\"\n            value={data.email}\n            onChange={this.onChange}\n            className=\"form-control\"\n          />\n          {this.state.errors.email && (\n            <ErrorMessage message={this.state.errors.email} />\n          )}\n        </div>\n\n        <div className=\"form-group\">\n          <label></label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            value={data.password}\n            onChange={this.onChange}\n            className=\"form-control\"\n            placeholder=\"\"\n          />\n          {this.state.errors.password && (\n            <ErrorMessage message={this.state.errors.password} />\n          )}\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"password\"\n            id=\"repeatPassword\"\n            name=\"repeatPassword\"\n            value={data.repeatPassword}\n            onChange={this.onChange}\n            className=\"form-control\"\n            placeholder={t(\" \")}\n          />\n          {this.state.errors.repeatPassword && (\n            <ErrorMessage message={this.state.errors.repeatPassword} />\n          )}\n        </div>\n        <div className=\"form-group\">\n          <button type=\"submit\" className=\"btn submit-btn mb-2\">\n            {t('')}\n          </button>\n        </div>\n      </form>\n    )\n  }\n}\n\n// @ts-ignore\nexport default connect(null, {registration, loading, loaded})(tr.withNamespaces()(Registration))\n","import Registration from './registration';\nexport default Registration;\n","import CompleteRegistration from './complete-registration';\nexport default CompleteRegistration;\n","import * as React from 'react';\n\nexport default class CompleteRegistration extends React.Component {\n  render() {\n    return (\n        <div>\n             \n        </div>\n      // <div>\n      //        ,\n      //        \n      // </div>\n    );\n  }\n}\n","import * as React from \"react\"\nimport {connect} from 'react-redux'\nimport './account.scss'\nimport ErrorMessage from '../../components/common/messages/error-message'\nimport {loaded, loading} from \"../../ac/loader\";\nimport {changePassword} from \"../../ac/auth\";\ninterface InputPasswords {password: string, confirmPassword: string}\n\ninterface Props {\n    auth: any,\n    loaded: any,\n    loading: any,\n    changePassword: any\n}\nclass Account extends React.Component<Props> {\n    state = {\n        data: {\n            password: '',\n            confirmPassword: ''\n        },\n        loading: false,\n        backendErrors: [],\n        errors: {password: '', confirmPassword: ''},\n    }\n    onChange = (e: any) => {\n        this.setState({data: {...this.state.data, [e.target.name]: e.target.value}})\n    }\n    componentDidMount(): void {\n        const { auth } = this.props;\n        if (!auth.isAuthenticated) {\n            window.location.href  = '/';\n        }\n    }\n\n    static validate({password, confirmPassword}: InputPasswords): InputPasswords {\n        if((!password || !confirmPassword) || password !== confirmPassword) {\n            throw Error('  ')\n        }\n        return {password, confirmPassword}\n    }\n\n    onSubmit = async (e: any) => {\n        const {loaded, loading, changePassword} = this.props\n        loading()\n        e.preventDefault();\n        try {\n            const {password} = Account.validate(this.state.data)\n            this.setState({\n                ...this.state,\n                errors: {password: '', confirmPassword: ''}\n            })\n            await changePassword(password)\n        } catch (e) {\n            this.setState({\n                ...this.state,\n                errors: {\n                    password: e.toString().slice(7,100),\n                    confirmPassword: e.toString().slice(7,100)\n                }\n            })\n        } finally {\n           loaded()\n        }\n    }\n    render(): React.ReactNode {\n        const {user} = this.props.auth;\n        if(user.type === 'google') {\n            return (\n              <div>\n                  <h3>{user.name}</h3>\n                  <p>google account</p>\n              </div>\n            )\n        }\n        return (\n            <form className='col-12 col-md-12 col-sm-12 col-lg-6 col-xl-6 login-form'\n                  onSubmit={this.onSubmit}>\n                {this.state.errors.password && (\n                    <ErrorMessage message={this.state.errors.password} />\n                )}\n                <h2>{user.name}</h2>\n                <h3> </h3>\n                <div>\n                    <label> </label>\n                </div>\n                <div>\n                    <input onChange={this.onChange} name='password' className='form-control'/>\n                </div>\n                {this.state.errors.confirmPassword && (\n                    <ErrorMessage message={this.state.errors.confirmPassword} />\n                )}\n                <div>\n                    <label> </label>\n                </div>\n                <div>\n                    <input onChange={this.onChange} name='confirmPassword' className='form-control'/>\n                </div>\n                <br/>\n                <div className='form-group'>\n                    <button type=\"submit\" className=\"btn submit-btn shadow-0\"> </button>\n                </div>\n                <br/>\n            </form>\n        );\n    }\n}\nexport default connect((state: any) => {\n    return {\n        auth: state.auth,\n    };\n}, {loaded, loading, changePassword})(Account)\n","import Account from './account'\nexport default Account\n","import * as React from 'react'\nimport './game-item.scss'\nimport {withRouter} from 'react-router-dom'\nimport {RouteComponentProps} from 'react-router-dom'\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\ninterface Props extends RouteComponentProps<any> {\n  history: any,\n  item: any\n}\n\nclass GameItem extends React.Component<Props> {\n  click = () => {\n    this.props.history.push(`/game/${this.props.item.id}`)\n  }\n  dateToReadable() {\n    const {date} = this.props.item\n    return new Date(date).toISOString().slice(0, 16).replace('T', ' ')\n  }\n  render() {\n    const {address, district, players, activePlayers, id} = this.props.item\n    if (!this.props.item) {return null}\n    return (\n        <TableRow key={id} onClick={this.click}>\n          <TableCell>{district}</TableCell>\n          <TableCell>{address}</TableCell>\n          <TableCell>{this.dateToReadable()}</TableCell>\n          <TableCell>{players} ({activePlayers})</TableCell>\n        </TableRow>\n    )\n  }\n}\nexport default withRouter<Props, any>(GameItem)\n","import GameItem from './game-item';\nexport default GameItem;\n","import InputBarrette from './input-barrette';\nexport default InputBarrette;\n","import * as React from 'react'\nimport './input-barrette.scss'\n\ninterface Props {\n  onChange: any,\n}\nclass InputBarrette extends React.Component<Props> {\n  onChange = (e: any) => {\n    this.props.onChange(e)\n  }\n\n  render() {\n    return (\n      <div className=\"input-barrette-wrap\">\n        <div className=\"input-barrette shadow-1\">\n          <div>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              onChange={this.onChange}\n              placeholder=\"\"/>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default InputBarrette\n","/* eslint-disable no-invalid-this */\nimport * as React from 'react'\nimport './set-city-widget.scss'\nimport CityPicker from '../../../components/common/city-picker'\nimport {connect} from 'react-redux'\nimport {setCity} from '../../../ac/location'\n\ninterface Props {\n  setCity: any,\n  location: any\n}\n/**\n * Set city on which all further game sessions will be based on\n */\nclass SetCityWidget extends React.Component<Props> {\n\n  componentDidMount() {\n    const strLocation = localStorage.getItem('location');\n    if (!strLocation) {\n      return\n    }\n    const {setCity} = this.props\n    try {\n      // @ts-ignore\n      setCity(JSON.parse(localStorage.getItem('location')));\n    } catch (e) {\n      console.error(e)\n    }\n  }\n  resetCity = () => {\n    const {setCity} = this.props;\n    setCity(null);\n  };\n\n  setCity = (city: any) => {\n    const {setCity} = this.props;\n    setCity(city)\n  };\n\n  render() {\n    return (\n      <div className=\"city-widget\">\n        {this.props.location.id ? (\n          <span onClick={this.resetCity} className=\"city-name shadow-1\">\n            {this.props.location.name}\n          </span>\n        ) : (\n          <div className=\"table-city-picker shadow-1\">\n            <CityPicker doChoice={this.setCity}/>\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default connect(\n    (state: {location: any}) => {\n      return {\n        location: state.location,\n      };\n    },\n    {setCity}\n)(SetCityWidget)\n","import SetCityWidget from './set-city-widget';\nexport default SetCityWidget;\n","import * as React from 'react';\nimport {connect} from 'react-redux';\nimport {withGameService} from '../../HOCs';\nimport GameItem from './game-item';\nimport './games-list.scss';\nimport InputBarrette from '../../components/common/input-barrette'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport Paper from '@material-ui/core/Paper'\nimport * as tr from \"react-i18next\";\nimport SetCityWidget from \"../common/set-city-widget\";\n\ninterface Props {\n  games: any,\n  t: any\n}\n\n\nclass GamesList extends React.Component<Props> {\n  state = {\n    district: null,\n  };\n\n  filterDistrict = (e: any) => {\n    this.setState({\n      district: e.target.value,\n    });\n  };\n\n  render() {\n    const {games, t} = this.props;\n    if (!games.entities.valueSeq().size) {\n      return <SetCityWidget/>;\n    }\n\n    return (\n        <div className='game-sessions-greed'>\n          <SetCityWidget/>\n          <div className=\"head-game-list\">\n            <div className={'district'}>\n              <InputBarrette onChange={this.filterDistrict}/>\n            </div>\n          </div>\n            <TableContainer component={Paper}>\n              <Table aria-label=\"simple table\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell></TableCell>\n                    <TableCell align=\"right\">{t('')}</TableCell>\n                    <TableCell align=\"right\">{t('')}</TableCell>\n                    <TableCell align=\"right\">{t('')}</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {games.entities.valueSeq().filter((it: any) => {\n                    if (!this.state.district) return true;\n                    return it.district.includes(this.state.district);\n                  }).map((it: any) => <GameItem key={it.id} item={it}/>)}\n                </TableBody>\n              </Table>\n            </TableContainer>\n        </div>\n    )\n  }\n}\n\n\nexport default connect(\n    (state: any) => {\n      return {\n        location: state.location,\n        games: state.games,\n      };\n    },\n    null\n)(withGameService(\n    // @ts-ignore\n    tr.withNamespaces()(GamesList)));\n","import GamesList from './games-list';\nexport default GamesList;\n","import * as i18n from \"i18next\";\nimport { reactI18nextModule } from \"react-i18next\";\n// @ts-ignore\nimport translationUA from './locales/ua/translation.json';\n\n// the translations\nconst resources = {\n    ua: {\n        translation: translationUA\n    }\n};\n// @ts-ignore\ni18n.default.use(reactI18nextModule) // passes i18n down to react-i18next\n    .init({\n        resources,\n        lng: \"ru\",\n\n        keySeparator: false, // we do not use keys in form messages.welcome\n\n        interpolation: {\n            escapeValue: false // react already safes from xss\n        }\n    });\n\nexport default i18n.default;\n","import Locales from './locales';\nexport default Locales;\n","import * as React from 'react';\nimport * as i18n from \"../../i18n\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faGlobe} from \"@fortawesome/free-solid-svg-icons\";\nimport './locales.scss'\nexport default class Locales extends React.Component {\n    async setLocale(locale: string) {\n\n        // @ts-ignore\n        await i18n.default.changeLanguage(locale)\n        return null\n    }\n    render(): React.ReactNode {\n        return (\n            <div className='locales'>\n                {/*<FontAwesomeIcon icon={faGlobe} size='2x'/>*/}\n                <a href=\"#\" data-loc=\"ua\" onClick={this.setLocale.bind(null, 'ua')}>\n                    <img src='/locales/ua-32.png'/>\n                </a>\n                <span>  </span>\n                <a href=\"#\" data-loc=\"ru\" onClick={this.setLocale.bind(null, 'ru')}>\n                    <img src='/locales/ru-32.png'/>\n                </a>\n            </div>\n        )\n    }\n}\n","import RulesMiniFootball from \"./rules-mini-football\";\nexport default RulesMiniFootball;\n","import * as React from \"react\";\nimport './rules-mini-football.scss'\nclass RulesMiniFootball extends React.Component {\n    componentDidMount() {\n        RulesMiniFootball.setMeta();\n    }\n    render() {\n        return (\n            <div className=\"mini-football\">\n               <a href=\"https://www.thefa.com/-/media/cfa/derbyshirefa/files/mini-soccer-youth-futsal-handbook.ashx?la=en\">  thefa</a>\n               <p>\n                            1930.\n                    ,         .\n                         ,       .\n                              .\n                             .\n               </p>\n                <div className=\"img-wrapper\">\n                    <img src=\"https://elasticbeanstalk-eu-north-1-242064348210.s3.eu-north-1.amazonaws.com/football/++2021-03-25++21.29.45.png\" alt=\"  \"/>\n                </div>\n                <p>,             ,    </p>\n            </div>\n        )\n    }\n    static setMeta() {\n        document.title = '    ';\n    }\n}\n\nexport default RulesMiniFootball","import * as React from 'react'\nimport Header from './components/header'\nimport CreateGame from './components/create-game'\nimport ForgotPassword from './components/auth/forgot-password'\nimport Login from './components/auth/login'\nimport './bootstrap.css'\nimport {Route} from 'react-router-dom'\nimport './app.scss'\nimport Game from './components/game'\nimport About from './components/about'\nimport Registration from './components/auth/registration'\nimport {connect} from 'react-redux'\nimport {withRouter} from 'react-router-dom'\nimport CompleteRegistration from './components/auth/complete-registration'\nimport Account from \"./components/account\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport {authGuard} from './HOCs'\nimport GamesList from './components/games-list'\nimport {checkIfLogged} from \"./ac/auth\";\nimport Locales from './components/locales'\nimport './i18n';\nimport RulesMiniFootball from \"./components/rules-mini-football\";\ninterface Props {\n  location: any,\n  loader: any,\n  checkIfLogged: any\n}\n\n/**\n * Root of application\n */\nclass App extends React.Component<Props> {\n  render() {\n    const {location, loader} = this.props\n    const {loading} = loader\n    const {checkIfLogged} = this.props\n    console.log('loading1', loading)\n    checkIfLogged().then(console.log)\n    return (\n        <div className={location.id && 'city-picked'}>\n          <Header/>\n          <Locales/>\n          {loading && <CircularProgress className={'loader-spinner'} color='primary' size={400} thickness={0.3}/>}\n          <div className=\"container main-content\">\n            <Route path=\"/about\" exact component={About}/>\n            <Route path=\"/account\" exact component={authGuard(Account)}/>\n            <Route path=\"/login\" exact component={Login}/>\n            <Route path=\"/game/:id\" exact component={Game}/>\n            <Route path=\"/forgot-password\" exact component={ForgotPassword}/>\n            <Route path=\"/registration\" exact component={Registration}/>\n            <Route path=\"/create-game\" exact component={CreateGame}/>\n            <Route path=\"/rules-mini-football\" exact component={RulesMiniFootball}/>\n            <Route path=\"/complete-registration\" exact\n                   // @ts-ignore\n                   component={CompleteRegistration}/>\n            <Route path=\"/\" exact component={GamesList}/>\n          </div>\n        </div>\n    )\n  }\n}\n\n// @ts-ignore\nexport default withRouter(connect((state: { location: any; loader: any }) => {\n  return {\n    location: state.location,\n    loader: state.loader,\n  }\n}, {checkIfLogged})(App));\n","import axios from '../libs/axios'\n\n/**\n * Service for working with cities\n */\nclass CityService {\n\n  getCities(city: any) {\n    if (city) {\n      return axios.get(`/cities/getByName/${city}`).then((res) => res.data)\n    }\n    return new Promise((resolve) => {\n      resolve([])\n    })\n  }\n}\n\nexport default CityService\n","import axios from '../libs/axios'\nimport {AxiosPromise} from 'axios'\nimport io from 'socket.io-client'\nconst patch = require('socketio-wildcard')(io.Manager)\n\nclass GameService {\n\n  private _gameSocket!: SocketIOClient.Socket;\n\n  add(game: any): AxiosPromise<{status: number}> {\n    game.date = game.date.format().split('+')[0]+'+0000'\n    return axios.post(`/game`, game)\n  }\n\n  initChat(id: number): Promise<SocketIOClient.Socket> {\n    return new Promise((resolve) => {\n      this._gameSocket = io({path: `/chat/game`})\n      patch(this._gameSocket)\n      this._gameSocket.on('connect', () => {\n        this._gameSocket.emit('join', `game${id}`, resolve(this._gameSocket))\n      })\n    })\n  }\n\n  destroyChat() {\n    this._gameSocket.disconnect()\n  }\n\n  addChatMessage(message: any) {\n    return axios.post(`/game/chat`, message)\n  }\n\n  getChatHistory(gameId: number) {\n    return axios.get(`/game/chat/history/${gameId}`)\n  }\n\n  joinGame(gameId: number, playerNumber: number) {\n    return axios.post(`/game/join`, {gameId, playerNumber})\n  }\n}\nexport default GameService\n","import io from 'socket.io-client'\nimport store from './store'\nimport {GAME_ADDED, PLAYER_JOINED} from './constants'\nimport {gameAdded, playerJoined} from './ac/games'\nconst patch = require('socketio-wildcard')(io.Manager)\nconst gameSocket =\n  io({path: '/chat/game'})\nconst generalSocket =\n  io({path: '/chat/general'})\npatch(generalSocket)\npatch(gameSocket)\n\n/**\n * Common sockets func\n */\nfunction sockets() {\n  generalSocket.on('*', (message: any) => {\n    switch (message.data[0]) {\n      case GAME_ADDED:\n        console.log('game added');\n        store.dispatch(gameAdded(message.data[1]));\n        break;\n      case PLAYER_JOINED:\n        console.log('pl joined');\n        const {gameId, players, info} = message.data[1];\n        store.dispatch(playerJoined(gameId, players, info));\n        break;\n      default:\n        console.log('unknown action');\n        break;\n    }\n  });\n}\nexport {sockets, gameSocket, generalSocket};\n","// @ts-nocheck\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport App from './App';\nimport store from './store';\nimport CityService from './services/city';\nimport {CityServiceProvider} from './context/city-service-context';\nimport {GameServiceProvider} from './context/game-service-context';\nimport GameService from './services/game';\nimport {sockets} from './sockets';\nsockets();\nReactDOM.hydrate(\n    <BrowserRouter>\n      <Provider store={store}>\n        <CityServiceProvider value={new CityService()}>\n        <GameServiceProvider value={new GameService()}>\n          <App />\n        </GameServiceProvider>\n        </CityServiceProvider>\n      </Provider>\n    </BrowserRouter>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}