{"ast":null,"code":"/* eslint-disable no-invalid-this */import*as React from'react';import'./field-player.scss';import{withGameService}from'../../../HOCs';import{connect}from'react-redux';import{loaded,loading}from\"../../../ac/loader\";/**\n * Player ui on football field\n */class FieldPlayer extends React.Component{constructor(...args){super(...args);this.applyGame=()=>{const _this$props=this.props,gameService=_this$props.gameService,game=_this$props.game,index=_this$props.index,loading=_this$props.loading,loaded=_this$props.loaded;loading();gameService.joinGame(game.id,index).catch(e=>{if(e.response.status>400&&e.response.status<500){alert('Залогинтесь сначала');}}).finally(loaded);};}/**\n   * @return {JSX} html\n   */render(){const _this$props2=this.props,teem=_this$props2.teem,index=_this$props2.index,gameRedux=_this$props2.gameRedux;const isActive=gameRedux.fieldNumbersInGame&&gameRedux.fieldNumbersInGame.length>0&&gameRedux.fieldNumbersInGame.indexOf(index)!==-1;const activeShirt='/img/'+teem+'-shirt.svg';return/*#__PURE__*/React.createElement(\"div\",{className:'relative player',onClick:this.applyGame},/*#__PURE__*/React.createElement(\"div\",{className:'number'},index),isActive?/*#__PURE__*/React.createElement(\"img\",{className:\"shirt\",alt:'active-shirt',src:activeShirt}):/*#__PURE__*/React.createElement(\"img\",{alt:'grey-shirt',className:'t-shirt-grey shirt',src:\"/img/gray-shirt.svg\"}));}}export default withGameService(connect(state=>{return{gameRedux:state.game};},{loading,loaded})(FieldPlayer));","map":{"version":3,"sources":["/Users/yaroslavudodov/Code/f4e/ssr/client/src/components/game/field-player/field-player.tsx"],"names":["React","withGameService","connect","loaded","loading","FieldPlayer","Component","applyGame","props","gameService","game","index","joinGame","id","catch","e","response","status","alert","finally","render","teem","gameRedux","isActive","fieldNumbersInGame","length","indexOf","activeShirt","state"],"mappings":"AAAA,oCACA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CAEA,MAAO,qBAAP,CACA,OAAQC,eAAR,KAA8B,eAA9B,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,MAAR,CAAgBC,OAAhB,KAA8B,oBAA9B,CAUA;;GAGA,KAAMC,CAAAA,WAAN,QAA0BL,CAAAA,KAAK,CAACM,SAAiB,0CAC/CC,SAD+C,CACnC,IAAM,mBACoC,KAAKC,KADzC,CACTC,WADS,aACTA,WADS,CACIC,IADJ,aACIA,IADJ,CACUC,KADV,aACUA,KADV,CACiBP,OADjB,aACiBA,OADjB,CAC0BD,MAD1B,aAC0BA,MAD1B,CAEhBC,OAAO,GACPK,WAAW,CAACG,QAAZ,CAAqBF,IAAI,CAACG,EAA1B,CAA8BF,KAA9B,EAAqCG,KAArC,CAA4CC,CAAD,EAAY,CACrD,GAAIA,CAAC,CAACC,QAAF,CAAWC,MAAX,CAAoB,GAApB,EAA2BF,CAAC,CAACC,QAAF,CAAWC,MAAX,CAAoB,GAAnD,CAAwD,CACtDC,KAAK,CAAC,qBAAD,CAAL,CACD,CACF,CAJD,EAIGC,OAJH,CAIWhB,MAJX,EAKD,CAT8C,EAU/C;;KAGAiB,MAAM,EAAG,oBAC0B,KAAKZ,KAD/B,CACAa,IADA,cACAA,IADA,CACMV,KADN,cACMA,KADN,CACaW,SADb,cACaA,SADb,CAEP,KAAMC,CAAAA,QAAQ,CAAGD,SAAS,CAACE,kBAAV,EACZF,SAAS,CAACE,kBAAV,CAA6BC,MAA7B,CAAsC,CAD1B,EAEZH,SAAS,CAACE,kBAAV,CAA6BE,OAA7B,CAAqCf,KAArC,IAAgD,CAAC,CAFtD,CAGA,KAAMgB,CAAAA,WAAW,CAAG,QAAQN,IAAR,CAAa,YAAjC,CACA,mBACE,2BAAK,SAAS,CAAE,iBAAhB,CAAmC,OAAO,CAAE,KAAKd,SAAjD,eACE,2BAAK,SAAS,CAAE,QAAhB,EAA2BI,KAA3B,CADF,CAEGY,QAAQ,cACP,2BAAK,SAAS,CAAC,OAAf,CAAuB,GAAG,CAAE,cAA5B,CAA4C,GAAG,CAAEI,WAAjD,EADO,cAEL,2BACA,GAAG,CAAE,YADL,CAEA,SAAS,CAAE,oBAFX,CAGA,GAAG,CAAC,qBAHJ,EAJN,CADF,CAWD,CA9B8C,CAiCjD,cAAgB1B,CAAAA,eAAD,CACXC,OAAO,CAAE0B,KAAD,EAAe,CACrB,MAAO,CACLN,SAAS,CAAEM,KAAK,CAAClB,IADZ,CAAP,CAGD,CAJM,CAIJ,CAACN,OAAD,CAAUD,MAAV,CAJI,CAAP,CAIsBE,WAJtB,CADW,CAAf","sourcesContent":["/* eslint-disable no-invalid-this */\nimport * as React from 'react'\n\nimport './field-player.scss'\nimport {withGameService} from '../../../HOCs'\nimport {connect} from 'react-redux'\nimport {loaded, loading} from \"../../../ac/loader\";\ninterface Props {\n  gameService: any,\n  game: any,\n  index: any,\n  gameRedux: any,\n  teem: any,\n  loading: any,\n  loaded: any\n}\n/**\n * Player ui on football field\n */\nclass FieldPlayer extends React.Component<Props> {\n  applyGame = () => {\n    const {gameService, game, index, loading, loaded} = this.props\n    loading()\n    gameService.joinGame(game.id, index).catch((e: any) => {\n      if (e.response.status > 400 && e.response.status < 500) {\n        alert('Залогинтесь сначала')\n      }\n    }).finally(loaded)\n  };\n  /**\n   * @return {JSX} html\n   */\n  render() {\n    const {teem, index, gameRedux} = this.props;\n    const isActive = gameRedux.fieldNumbersInGame\n      && gameRedux.fieldNumbersInGame.length > 0\n      && gameRedux.fieldNumbersInGame.indexOf(index) !== -1;\n    const activeShirt = '/img/'+teem+'-shirt.svg';\n    return (\n      <div className={'relative player'} onClick={this.applyGame}>\n        <div className={'number'}>{index}</div>\n        {isActive ?\n          <img className='shirt' alt={'active-shirt'} src={activeShirt}/>\n          : <img\n            alt={'grey-shirt'}\n            className={'t-shirt-grey shirt'}\n            src='/img/gray-shirt.svg' />}\n      </div>\n    );\n  }\n}\n\nexport default (withGameService)(\n    connect((state: any)=> {\n      return {\n        gameRedux: state.game,\n      };\n    }, {loading, loaded})(FieldPlayer)\n);\n"]},"metadata":{},"sourceType":"module"}