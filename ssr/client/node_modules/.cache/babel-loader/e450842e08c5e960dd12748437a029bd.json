{"ast":null,"code":"import _objectSpread from\"/Users/yaroslavudodov/Code/f4e/ssr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Users/yaroslavudodov/Code/f4e/ssr/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import{START,SUCCESS,FAIL}from'../constants';import axios from'../libs/axios';export default(store=>next=>action=>{const callApi=action.callApi,type=action.type,rest=_objectWithoutProperties(action,[\"callApi\",\"type\"]);if(!callApi)return next(action);next(_objectSpread(_objectSpread({},rest),{},{type:type+START}));return axios.get(callApi).then(response=>{next(_objectSpread(_objectSpread({},rest),{},{type:type+SUCCESS,payload:_objectSpread(_objectSpread({},response),{},{store:store.getState()})}));},error=>{next(_objectSpread(_objectSpread({},rest),{},{type:type+FAIL,error}));});});","map":{"version":3,"sources":["/Users/yaroslavudodov/Code/f4e/ssr/client/src/middlewares/api.ts"],"names":["START","SUCCESS","FAIL","axios","store","next","action","callApi","type","rest","get","then","response","payload","getState","error"],"mappings":"mVAAA,OAAQA,KAAR,CAAeC,OAAf,CAAwBC,IAAxB,KAAmC,cAAnC,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CAEA,eAAgBC,KAAD,EAAiBC,IAAD,EAAgBC,MAAD,EAAiB,MACtDC,CAAAA,OADsD,CAC5BD,MAD4B,CACtDC,OADsD,CAC7CC,IAD6C,CAC5BF,MAD4B,CAC7CE,IAD6C,CACpCC,IADoC,0BAC5BH,MAD4B,qBAE7D,GAAI,CAACC,OAAL,CAAc,MAAOF,CAAAA,IAAI,CAACC,MAAD,CAAX,CAEdD,IAAI,gCACCI,IADD,MAEFD,IAAI,CAAEA,IAAI,CAAGR,KAFX,GAAJ,CAIA,MAAOG,CAAAA,KAAK,CAACO,GAAN,CAAUH,OAAV,EAAmBI,IAAnB,CACFC,QAAD,EAAc,CACZP,IAAI,gCAAKI,IAAL,MAAWD,IAAI,CAAEA,IAAI,CAAGP,OAAxB,CAAiCY,OAAO,gCACpCD,QADoC,MAC1BR,KAAK,CAAEA,KAAK,CAACU,QAAN,EADmB,EAAxC,GAAJ,CAED,CAJE,CAKFC,KAAD,EAAW,CACTV,IAAI,gCAAKI,IAAL,MAAWD,IAAI,CAAEA,IAAI,CAAGN,IAAxB,CAA8Ba,KAA9B,GAAJ,CACD,CAPE,CAAP,CASD,CAjBD","sourcesContent":["import {START, SUCCESS, FAIL} from '../constants'\nimport axios from '../libs/axios'\n\nexport default (store: any) => (next: any) => (action: any) => {\n  const {callApi, type, ...rest} = action\n  if (!callApi) return next(action)\n\n  next({\n    ...rest,\n    type: type + START,\n  });\n  return axios.get(callApi).then(\n      (response) => {\n        next({...rest, type: type + SUCCESS, payload:\n            {...response, store: store.getState()}})\n      },\n      (error) => {\n        next({...rest, type: type + FAIL, error})\n      }\n  );\n};\n"]},"metadata":{},"sourceType":"module"}